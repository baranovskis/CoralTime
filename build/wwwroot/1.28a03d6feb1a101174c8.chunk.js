webpackJsonp([1],{"6+IT":function(t,e,n){"use strict";var i=n("TToO").__decorate,l=n("TToO").__metadata,o=n("WT6e"),r=n("vhJo"),s=function(){function t(t){this.fileOver=new o.EventEmitter,this.onFileDrop=new o.EventEmitter,this.element=t}return t.prototype.getOptions=function(){return this.uploader.options},t.prototype.getFilters=function(){return{}},t.prototype.onDrop=function(t){var e=this._getTransfer(t);if(e){var n=this.getOptions(),i=this.getFilters();this._preventAndStop(t),this.uploader.addToQueue(e.files,n,i),this.fileOver.emit(!1),this.onFileDrop.emit(e.files)}},t.prototype.onDragOver=function(t){var e=this._getTransfer(t);this._haveFiles(e.types)&&(e.dropEffect="copy",this._preventAndStop(t),this.fileOver.emit(!0))},t.prototype.onDragLeave=function(t){this.element&&t.currentTarget===this.element[0]||(this._preventAndStop(t),this.fileOver.emit(!1))},t.prototype._getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},t.prototype._preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},t.prototype._haveFiles=function(t){return!!t&&(t.indexOf?-1!==t.indexOf("Files"):!!t.contains&&t.contains("Files"))},t}();i([o.Input(),l("design:type",r.FileUploader)],s.prototype,"uploader",void 0),i([o.Output(),l("design:type",o.EventEmitter)],s.prototype,"fileOver",void 0),i([o.Output(),l("design:type",o.EventEmitter)],s.prototype,"onFileDrop",void 0),i([o.HostListener("drop",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],s.prototype,"onDrop",null),i([o.HostListener("dragover",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],s.prototype,"onDragOver",null),i([o.HostListener("dragleave",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",Object)],s.prototype,"onDragLeave",null),s=i([o.Directive({selector:"[ng2FileDrop]"})],s),e.FileDropDirective=s},"6R16":function(t,e,n){"use strict";var i=n("TToO").__decorate,l=n("TToO").__metadata,o=n("WT6e"),r=n("vhJo"),s=function(){function t(t){this.element=t}return t.prototype.getOptions=function(){return this.uploader.options},t.prototype.getFilters=function(){},t.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},t.prototype.onChange=function(){var t=this.element.nativeElement.files,e=this.getOptions(),n=this.getFilters();this.uploader.addToQueue(t,e,n),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},t}();i([o.Input(),l("design:type",r.FileUploader)],s.prototype,"uploader",void 0),i([o.HostListener("change"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",Object)],s.prototype,"onChange",null),s=i([o.Directive({selector:"[ng2FileSelect]"})],s),e.FileSelectDirective=s},G7Ky:function(t,e,n){"use strict";var i=n("YhDJ");e.FileItem=function(){function t(t,e,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=t,this.some=e,this.options=n,this.file=new i.FileLikeObject(e),this._file=e,t.options&&(this.method=t.options.method||"POST",this.alias=t.options.itemAlias||"file"),this.url=t.options.url}return t.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},t.prototype.cancel=function(){this.uploader.cancelItem(this)},t.prototype.remove=function(){this.uploader.removeFromQueue(this)},t.prototype.onBeforeUpload=function(){},t.prototype.onBuildForm=function(t){return{form:t}},t.prototype.onProgress=function(t){return{progress:t}},t.prototype.onSuccess=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype.onError=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype.onCancel=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype.onComplete=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},t.prototype._onBuildForm=function(t){this.onBuildForm(t)},t.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},t.prototype._onSuccess=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(t,e,n)},t.prototype._onError=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(t,e,n)},t.prototype._onCancel=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(t,e,n)},t.prototype._onComplete=function(t,e,n){this.onComplete(t,e,n),this.uploader.options.removeAfterUpload&&this.remove()},t.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},t}()},YhDJ:function(t,e,n){"use strict";e.FileLikeObject=function(){function t(t){var e,n=(e=t)&&(e.nodeName||e.prop&&e.attr&&e.find)?t.value:t;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}return t.prototype._createFromFakePath=function(t){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},t.prototype._createFromObject=function(t){this.size=t.size,this.type=t.type,this.name=t.name},t}()},kT03:function(t,e,n){"use strict";var i=function(){function t(){}return t.getMimeClass=function(t){var e="application";return-1!==this.mime_psd.indexOf(t.type)?e="image":t.type.match("image.*")?e="image":t.type.match("video.*")?e="video":t.type.match("audio.*")?e="audio":"application/pdf"===t.type?e="pdf":-1!==this.mime_compress.indexOf(t.type)?e="compress":-1!==this.mime_doc.indexOf(t.type)?e="doc":-1!==this.mime_xsl.indexOf(t.type)?e="xls":-1!==this.mime_ppt.indexOf(t.type)&&(e="ppt"),"application"===e&&(e=this.fileTypeDetection(t.name)),e},t.fileTypeDetection=function(t){var e={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=t.split(".");if(n.length<2)return"application";var i=n[n.length-1].toLowerCase();return void 0===e[i]?"application":e[i]},t}();i.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],i.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],i.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],i.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],i.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream"],e.FileType=i},tSfz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("WT6e"),l=function(){},o=n("eSYK"),r=n("EzVK"),s=n("Xjw4"),a=n("YKDW"),u=n("bfOx"),d=n("C9B0"),c=n("Pm2l"),p=n("ItHS"),h=n("RMih"),m=n("PJh5"),g=function(){function t(t){void 0===t&&(t=null),t&&(this.dateFormatId=t.dateFormatId,this.dateFormat=t.dateFormat)}return t.prototype.toString=function(){return this.dateFormat+" (Ex: "+m().format(this.dateFormat)+")"},t}(),f=function(){function t(t){this.timeFormat=t}return t.prototype.toString=function(){return 12===this.timeFormat?this.timeFormat+" hours (Ex: 3:00 PM)":this.timeFormat+" hours (Ex: 15:00)"},t}(),v=function(t,e){this.name=t,this.dayNumber=e},y=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],C=function(){function t(t,e){this.constantService=t,this.http=e}return t.prototype.getDateFormats=function(){return this.http.get(this.constantService.profileApi+"/DateFormats").map(function(t){return t.map(function(t){return new g(t)})})},t.prototype.getProjects=function(){return this.http.get(this.constantService.profileApi+"/Projects").map(function(t){return t?t.map(function(t){return new function(t){t&&(this.color=t.color,this.id=t.id,this.isMemberListShown=!1,this.isPrivate=t.isPrivate,this.isPrimary=t.isPrimary,this.managersNames=t.managersNames,this.memberCount=t.memberCount,this.memberList=[],this.name=t.name)}(t)}):[]})},t.prototype.getProjectMembers=function(t){return this.http.get(this.constantService.profileApi+"/ProjectMembers/"+t).map(function(t){return t.map(function(t){return new function(t){t&&(this.memberId=t.memberId,this.memberName=t.memberName,this.urlIcon=t.urlIcon)}(t)})})},t.prototype.submitNotifications=function(t,e){return this.http.patch(this.constantService.profileApi+"/Member("+e+")/Notifications",t)},t.prototype.submitPreferences=function(t,e){return this.http.patch(this.constantService.profileApi+"/Member("+e+")/Preferences",t)},t.prototype.submitPersonalInfo=function(t,e){return this.http.patch(this.constantService.profileApi+"/Member("+e+")/PersonalInfo",t)},t}(),b=n("cozs"),S=function(){function t(t,e,n,i){this.impersonationService=t,this.profileService=e,this.route=n,this.userPicService=i,this.userInfo=new c.a}return t.prototype.ngOnInit=function(){var t=this;this.route.data.forEach(function(e){t.userInfo=t.impersonationService.impersonationUser||e.user}),this.getAvatar(),this.getProjects()},t.prototype.getAvatar=function(){var t=this;this.userPicService.loadUserPicture(this.userInfo.id).subscribe(function(e){t.avatarUrl=e})},t.prototype.getProjects=function(){var t=this;this.profileService.getProjects().subscribe(function(e){t.projects=t.sortList(e,"name")})},t.prototype.sortList=function(t,e){return t.sort(function(t,n){return t[e].toLowerCase()<n[e].toLowerCase()?-1:1})},t.prototype.getProjectMembers=function(t,e){var n=this;this.profileService.getProjectMembers(t).subscribe(function(t){n.projects[e].memberList=n.sortList(t,"memberName")})},t.prototype.setManagersString=function(t){return t.length?"Your manager"+(t.length-1?"s are ":" is ")+t.join(", "):""},t.prototype.setMemberCountString=function(t){return 1===t?"You are the only one member on the project":t+" members on the project"},t.prototype.toggleMembersShown=function(t){this.projects[t].memberList.length||this.getProjectMembers(this.projects[t].id,t),this.projects[t].isMemberListShown=!this.projects[t].isMemberListShown},t}(),w=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function I(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","ct-user-settings-info"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Name"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],null,function(t,e){var n=e.component;t(e,6,0,(null==n.impersonationUser?null:n.impersonationUser.fullName)||(null==n.userInfo?null:n.userInfo.fullName))})}function M(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","ct-user-settings-info"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Email address"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],null,function(t,e){var n=e.component;t(e,6,0,(null==n.impersonationUser?null:n.impersonationUser.email)||(null==n.userInfo?null:n.userInfo.email))})}function x(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-circle-o-notch fa-spin"]],null,null,null,null,null))],null,null)}function P(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[["class","ct-profile-no-project"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["You haven't assigned to any project yet."]))],null,null)}function F(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.setManagersString(e.parent.context.$implicit.managersNames))})}function D(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.setMemberCountString(e.parent.context.$implicit.memberCount))})}function T(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-circle-o-notch fa-spin"]],null,null,null,null,null))],null,null)}function E(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["(You)"]))],null,null)}function R(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"div",[["class","ct-profile-user"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](2,0,null,null,1,"ct-user-pic",[],[[2,"ct-user-pic-avatar",null]],null,null,o.b,o.a)),i["\u0275did"](3,114688,null,0,r.a,[],{urlIcon:[0,"urlIcon"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](5,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["","\n                                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,E)),i["\u0275did"](8,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                            "]))],function(t,e){var n=e.component;t(e,3,0,e.context.$implicit.urlIcon),t(e,8,0,e.context.$implicit.memberId==((null==n.impersonationUser?null:n.impersonationUser.id)||(null==n.userInfo?null:n.userInfo.id)))},function(t,e){t(e,2,0,i["\u0275nov"](e,3).addClass),t(e,6,0,e.context.$implicit.memberName)})}function A(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,16,"div",[["class","ct-profile-users-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](2,0,null,null,7,"div",[["class","ct-form-header"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleMembersShown(t.parent.context.index)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"span",[["class","ct-link-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,[""," Team Members"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,T)),i["\u0275did"](8,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](11,0,null,null,4,"div",[["class","ct-profile-users-list"]],[[2,"ct-profile-members-hidden",null]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,R)),i["\u0275did"](14,802816,null,0,s.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "]))],function(t,e){t(e,8,0,e.parent.context.$implicit.isMemberListShown&&!e.parent.context.$implicit.memberList.length),t(e,14,0,e.parent.context.$implicit.memberList)},function(t,e){t(e,5,0,e.parent.context.$implicit.isMemberListShown?"Hide":"View"),t(e,11,0,!e.parent.context.$implicit.isMemberListShown||!e.parent.context.$implicit.memberList.length)})}function k(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,18,"div",[["class","ct-profile-project"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,4,"p",[["class","ct-profile-project-name"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["","\n                        "])),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["\n                            ","\n                            ","\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,F)),i["\u0275did"](11,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,D)),i["\u0275did"](14,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,A)),i["\u0275did"](17,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "]))],function(t,e){t(e,11,0,e.context.$implicit.managersNames.length),t(e,14,0,e.context.$implicit.isPrivate),t(e,17,0,e.context.$implicit.isPrivate)},function(t,e){t(e,2,0,i["\u0275inlineInterpolate"](1,"ct-color-",e.context.$implicit.color,"")),t(e,5,0,e.context.$implicit.name),t(e,7,0,e.context.$implicit.isPrimary?" (Default)":"",e.context.$implicit.isPrivate?"":" (Public)")})}function N(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,46,"div",[["class","ct-profile ct-profile-page"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](2,0,null,null,43,"div",[["class","ct-page-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](4,0,null,null,5,"div",[["class","ct-page-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](6,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["",""])),i["\u0275pid"](131072,a.i,[a.j,i.ChangeDetectorRef]),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n\n        "])),(t()(),i["\u0275eld"](11,0,null,null,33,"div",[["class","ct-page-content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](13,0,null,null,15,"div",[["class","ct-user-pic-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](15,0,null,null,1,"ct-user-pic",[],[[2,"ct-user-pic-avatar",null]],null,null,o.b,o.a)),i["\u0275did"](16,114688,null,0,r.a,[],{fullSize:[0,"fullSize"],urlIcon:[1,"urlIcon"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,I)),i["\u0275did"](19,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,M)),i["\u0275did"](22,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](24,0,null,null,3,"button",[["class","ct-button ct-blue-button"]],null,[[null,"click"]],function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i["\u0275nov"](t,25).onClick()&&l),l},null,null)),i["\u0275did"](25,16384,null,0,u.RouterLink,[u.Router,u.ActivatedRoute,[8,null],i.Renderer2,i.ElementRef],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](26,1),(t()(),i["\u0275ted"](-1,null,["Settings"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275eld"](30,0,null,null,13,"div",[["class","ct-user-settings"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](32,0,null,null,4,"h3",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["My Projects\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,x)),i["\u0275did"](35,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,P)),i["\u0275did"](39,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,k)),i["\u0275did"](42,802816,null,0,s.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,16,0,!0,n.avatarUrl),t(e,19,0,(null==n.impersonationUser?null:n.impersonationUser.fullName)||(null==n.userInfo?null:n.userInfo.fullName)),t(e,22,0,(null==n.impersonationUser?null:n.impersonationUser.email)||(null==n.userInfo?null:n.userInfo.email)),t(e,25,0,t(e,26,0,"/profile/settings")),t(e,35,0,!n.projects),t(e,39,0,n.projects&&!n.projects.length),t(e,42,0,n.projects)},function(t,e){t(e,7,0,i["\u0275unv"](e,7,0,i["\u0275nov"](e,8).transform("Profile"))),t(e,15,0,i["\u0275nov"](e,16).addClass)})}var _=i["\u0275ccf"]("ct-profile",S,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ct-profile",[],null,null,null,N,w)),i["\u0275did"](1,114688,null,0,S,[d.a,C,u.ActivatedRoute,b.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),U=n("7DMc"),O=n("BTH+"),H=n("gsbp"),L=n("XHgV"),B=n("U/+3"),j=n("fnhe"),V=n("GGb7"),W=n("LEdz"),G=n("AP/s"),z=n("ASoR"),Y=n("IAoq"),X=n("+8SY"),q=n("O3UP"),$=n("yQDL"),J=n("QF0B"),K=n("Ltx+"),Z=(n("DUFE"),n("TToO")),Q=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"next",{get:function(){return this._next},set:function(t){this._next=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){return this._prev},set:function(t){this._prev=t},enumerable:!0,configurable:!0}),t}(),tt=function(){function t(e){t._instance=this;for(var n=this.firstAvailable=new Q,i=1;i<e;i++){var l=new Q;n.next=l,n=l}}return Object.defineProperty(t,"instance",{get:function(){return t._instance},enumerable:!0,configurable:!0}),t.prototype.borrow=function(t,e){if(null==this.firstAvailable)throw"Pool exhausted";this.borrowed++;var n=this.firstAvailable;return this.firstAvailable=n.next,n.x=t,n.y=e,n},t.prototype.returnPoint=function(t){this.borrowed--,t.x=0,t.y=0,t.next=this.firstAvailable,this.firstAvailable=t},t}(),et=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.left=t,this.right=t+n,this.top=e,this.bottom=e+i}return Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),t.prototype.getCentre=function(){return tt.instance.borrow(this.left+this.width/2,this.top+this.height/2)},t}(),nt=function(){this.strokeWidth=1,this.strokeColor="rgba(255,255,255,1)",this.dragIconStrokeWidth=1,this.dragIconStrokeColor="rgba(0,0,0,1)",this.dragIconFillColor="rgba(255,255,255,1)"},it=function(){function t(){this.canvasWidth=300,this.canvasHeight=300,this.dynamicSizing=!1,this.width=200,this.height=200,this.minWidth=50,this.minHeight=50,this.minWithRelativeToResolution=!0,this.croppedWidth=100,this.croppedHeight=100,this.cropperDrawSettings=new nt,this.touchRadius=20,this.noFileInput=!1,this.allowedFilesRegex=/\.(jpe?g|png|gif)$/i,this.cropOnResize=!0,this.preserveSize=!1,this.compressRatio=1,this._rounded=!1,this._keepAspect=!0}return Object.defineProperty(t.prototype,"rounded",{get:function(){return this._rounded},set:function(t){this._rounded=t,t&&(this._keepAspect=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepAspect",{get:function(){return this._keepAspect},set:function(t){if(!1===t&&this._rounded)throw new Error("Cannot set keep aspect to false on rounded cropper. Ellipsis not supported");this._keepAspect=t},enumerable:!0,configurable:!0}),t}(),lt=function(){function t(t,e,n,i){this.cropperSettings=new it,this.over=!1,this.drag=!1,this._position=new Q(t,e),this.offset=new Q(0,0),this.radius=n,this.cropperSettings=i}return t.prototype.setDrag=function(t){this.drag=t,this.setOver(t)},t.prototype.draw=function(t){},t.prototype.setOver=function(t){this.over=t},t.prototype.touchInBounds=function(t,e){return t>this.position.x-this.radius+this.offset.x&&t<this.position.x+this.radius+this.offset.x&&e>this.position.y-this.radius+this.offset.y&&e<this.position.y+this.radius+this.offset.y},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(t,e){this._position.x=t,this._position.y=e},t}(),ot=function(t){function e(e,n,i,l){return t.call(this,e,n,i,l)||this}return Object(Z.__extends)(e,t),e.prototype.drawCornerBorder=function(t){var e=10;(this.over||this.drag)&&(e=12);var n=1,i=1;if(this.horizontalNeighbour.position.x<this.position.x&&(n=-1),this.verticalNeighbour.position.y<this.position.y&&(i=-1),this.cropperSettings.rounded){var l=this.position.x-this.horizontalNeighbour.position.x,o=this.position.y-this.verticalNeighbour.position.y,r=Math.round(Math.sin(Math.PI/2)*Math.abs(l/2))/4,s=Math.round(Math.sin(Math.PI/2)*Math.abs(o/2))/4;this.offset.x=n>0?r:-r,this.offset.y=i>0?s:-s}else this.offset.x=0,this.offset.y=0;t.beginPath(),t.lineJoin="miter",t.moveTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y+e*i),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y+e*i),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.closePath(),t.lineWidth=this.cropperSettings.cropperDrawSettings.strokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.strokeColor,t.stroke()},e.prototype.drawCornerFill=function(t){var e=10;(this.over||this.drag)&&(e=12);var n=1,i=1;this.horizontalNeighbour.position.x<this.position.x&&(n=-1),this.verticalNeighbour.position.y<this.position.y&&(i=-1),t.beginPath(),t.moveTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*n,this.position.y+this.offset.y+e*i),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y+e*i),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.closePath(),t.fillStyle="rgba(255,255,255,.7)",t.fill()},e.prototype.moveX=function(t){this.setPosition(t,this.position.y)},e.prototype.moveY=function(t){this.setPosition(this.position.x,t)},e.prototype.move=function(t,e){this.setPosition(t,e),this.verticalNeighbour.moveX(t),this.horizontalNeighbour.moveY(e)},e.prototype.addHorizontalNeighbour=function(t){this.horizontalNeighbour=t},e.prototype.addVerticalNeighbour=function(t){this.verticalNeighbour=t},e.prototype.getHorizontalNeighbour=function(){return this.horizontalNeighbour},e.prototype.getVerticalNeighbour=function(){return this.verticalNeighbour},e.prototype.draw=function(t){this.drawCornerFill(t),this.drawCornerBorder(t)},e}(lt),rt=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.id=n,this.x=t,this.y=e},st=function(t){function e(e,n,i,l){var o=t.call(this,e,n,i,l)||this;return o.iconPoints=[],o.scaledIconPoints=[],o.getDragIconPoints(o.iconPoints,1),o.getDragIconPoints(o.scaledIconPoints,1.2),o}return Object(Z.__extends)(e,t),e.prototype.draw=function(t){this.drawIcon(t,this.over||this.drag?this.scaledIconPoints:this.iconPoints)},e.prototype.getDragIconPoints=function(t,e){var n=17*e,i=14*e,l=8*e,o=4*e;t.push(tt.instance.borrow(-o/2,n-l)),t.push(tt.instance.borrow(-i/2,n-l)),t.push(tt.instance.borrow(0,n)),t.push(tt.instance.borrow(i/2,n-l)),t.push(tt.instance.borrow(o/2,n-l)),t.push(tt.instance.borrow(o/2,o/2)),t.push(tt.instance.borrow(n-l,o/2)),t.push(tt.instance.borrow(n-l,i/2)),t.push(tt.instance.borrow(n,0)),t.push(tt.instance.borrow(n-l,-i/2)),t.push(tt.instance.borrow(n-l,-o/2)),t.push(tt.instance.borrow(o/2,-o/2)),t.push(tt.instance.borrow(o/2,-n+l)),t.push(tt.instance.borrow(i/2,-n+l)),t.push(tt.instance.borrow(0,-n)),t.push(tt.instance.borrow(-i/2,-n+l)),t.push(tt.instance.borrow(-o/2,-n+l)),t.push(tt.instance.borrow(-o/2,-o/2)),t.push(tt.instance.borrow(-n+l,-o/2)),t.push(tt.instance.borrow(-n+l,-i/2)),t.push(tt.instance.borrow(-n,0)),t.push(tt.instance.borrow(-n+l,i/2)),t.push(tt.instance.borrow(-n+l,o/2)),t.push(tt.instance.borrow(-o/2,o/2))},e.prototype.drawIcon=function(t,e){t.beginPath(),t.moveTo(e[0].x+this.position.x,e[0].y+this.position.y);for(var n=0;n<e.length;n++){var i=e[n];t.lineTo(i.x+this.position.x,i.y+this.position.y)}t.closePath(),t.fillStyle=this.cropperSettings.cropperDrawSettings.dragIconFillColor,t.fill(),t.lineWidth=this.cropperSettings.cropperDrawSettings.dragIconStrokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.dragIconStrokeColor,t.stroke()},e.prototype.recalculatePosition=function(t){var e=t.getCentre();this.setPosition(e.x,e.y),tt.instance.returnPoint(e)},e}(lt),at=function(){function t(){}return t.setPressed=function(t){this.pressed=t},t.setReleased=function(t){},t.setOver=function(t){this.over=t},t.setStyle=function(t,e){},t.share={},t}(),ut=function(t){function e(e){var n=t.call(this)||this,i=e.width,l=e.height,o=e.keepAspect,r=e.touchRadius,s=e.minWidth,a=e.minHeight,u=e.croppedWidth,d=e.croppedHeight;return n.cropperSettings=e,n.crop=n,n.x=0,n.y=0,void 0===i&&(n.width=100),void 0===l&&(n.height=50),void 0===o&&(n.keepAspect=!0),void 0===r&&(n.touchRadius=20),n.minWidth=s,n.minHeight=a,n.keepAspect=!1,n.aspectRatio=0,n.currentDragTouches=[],n.isMouseDown=!1,n.ratioW=1,n.ratioH=1,n.fileType=e.fileType,n.imageSet=!1,n.pointPool=new tt(200),n.tl=new ot(0,0,r,n.cropperSettings),n.tr=new ot(0+i,0,r,n.cropperSettings),n.bl=new ot(0,0+l,r,n.cropperSettings),n.br=new ot(0+i,0+l,r,n.cropperSettings),n.tl.addHorizontalNeighbour(n.tr),n.tl.addVerticalNeighbour(n.bl),n.tr.addHorizontalNeighbour(n.tl),n.tr.addVerticalNeighbour(n.br),n.bl.addHorizontalNeighbour(n.br),n.bl.addVerticalNeighbour(n.tl),n.br.addHorizontalNeighbour(n.bl),n.br.addVerticalNeighbour(n.tr),n.markers=[n.tl,n.tr,n.bl,n.br],n.center=new st(0+i/2,0+l/2,r,n.cropperSettings),n.keepAspect=o,n.aspectRatio=l/i,n.croppedImage=new Image,n.currentlyInteracting=!1,n.cropWidth=u,n.cropHeight=d,n}return Object(Z.__extends)(e,t),e.sign=function(t){return+t===t?0===t?t:t>0?1:-1:NaN},e.getMousePos=function(t,e){var n=t.getBoundingClientRect();return tt.instance.borrow(e.clientX-n.left,e.clientY-n.top)},e.getTouchPos=function(t,e){var n=t.getBoundingClientRect();return tt.instance.borrow(e.clientX-n.left,e.clientY-n.top)},e.detectVerticalSquash=function(t){var e=t.height,n=document.createElement("canvas");n.width=1,n.height=e;var i=n.getContext("2d");i.drawImage(t,0,0);var l=i.getImageData(0,0,1,e);if(l){for(var o=l.data,r=0,s=e,a=e;a>r;)0===o[4*(a-1)+3]?s=a:r=a,a=s+r>>1;var u=a/e;return 0===u?1:u}return 1},e.prototype.getDataUriMimeType=function(t){var e=t.substring(0,50),n="image/png",i=RegExp(/^(data:)([\w\/\+]+);(charset=[\w-]+|base64).*,(.*)/gi).exec(e);return i&&i[2]&&"image/jpg"==(n=i[2])&&(n="image/jpeg"),n},e.prototype.prepare=function(t){this.buffer=document.createElement("canvas"),this.cropCanvas=document.createElement("canvas");var e=t.parentElement?t.parentElement.clientWidth:0;e>0&&this.cropperSettings.dynamicSizing?(this.cropCanvas.width=e,this.buffer.width=e,t.width=e):(this.cropCanvas.width=this.cropWidth,this.buffer.width=t.width),this.cropCanvas.height=this.cropHeight,this.buffer.height=t.height,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.draw(this.ctx)},e.prototype.resizeCanvas=function(t,e,n){void 0===n&&(n=!1),this.canvas.width=this.cropCanvas.width=this.width=this.canvasWidth=this.buffer.width=t,this.canvas.height=this.cropCanvas.height=this.height=this.canvasHeight=this.buffer.height=e,n&&this.setImage(this.srcImage)},e.prototype.reset=function(){this.setImage(void 0)},e.prototype.draw=function(t){var e=this.getBounds();if(this.srcImage){t.clearRect(0,0,this.canvasWidth,this.canvasHeight);var n=this.srcImage.height/this.srcImage.width,i=this.canvasHeight/this.canvasWidth,l=this.canvasWidth,o=this.canvasHeight;i>n?(l=this.canvasWidth,o=this.canvasWidth*n):(o=this.canvasHeight,l=this.canvasHeight/n),this.ratioW=l/this.srcImage.width,this.ratioH=o/this.srcImage.height,i<n?this.drawImageIOSFix(t,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,this.buffer.width/2-l/2,0,l,o):this.drawImageIOSFix(t,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,0,this.buffer.height/2-o/2,l,o),this.buffer.getContext("2d").drawImage(this.canvas,0,0,this.canvasWidth,this.canvasHeight),t.lineWidth=this.cropperSettings.cropperDrawSettings.strokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.strokeColor,this.cropperSettings.rounded?(t.beginPath(),t.arc(e.left+e.width/2,e.top+e.height/2,e.width/2,0,2*Math.PI,!0),t.closePath(),t.stroke()):(t.fillStyle="rgba(0, 0, 0, 0.6)",t.fillRect(0,0,this.canvasWidth,this.canvasHeight),t.drawImage(this.buffer,e.left,e.top,Math.max(e.width,1),Math.max(e.height,1),e.left,e.top,e.width,e.height),t.strokeRect(e.left,e.top,e.width,e.height));for(var r=0;r<this.markers.length;r++)this.markers[r].draw(t);this.center.draw(t)}else t.fillStyle="rgba(192,192,192,1)",t.fillRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.dragCenter=function(t,e,n){var i=this.getBounds(),l=t-i.width/2,o=e+i.height/2;t+i.width/2>=this.maxXClamp&&(t=this.maxXClamp-i.width/2),l<=this.minXClamp&&(t=i.width/2+this.minXClamp),e-i.height/2<this.minYClamp&&(e=i.height/2+this.minYClamp),o>=this.maxYClamp&&(e=this.maxYClamp-i.height/2),this.tl.moveX(t-i.width/2),this.tl.moveY(e-i.height/2),this.tr.moveX(t+i.width/2),this.tr.moveY(e-i.height/2),this.bl.moveX(t-i.width/2),this.bl.moveY(e+i.height/2),this.br.moveX(t+i.width/2),this.br.moveY(e+i.height/2),n.setPosition(t,e)},e.prototype.enforceMinSize=function(t,e,n){var i=t-n.getHorizontalNeighbour().position.x,l=e-n.getVerticalNeighbour().position.y,o=this.minWidth-Math.abs(i),r=this.minHeight-Math.abs(l);return 0===i||0===l?tt.instance.borrow(t=n.position.x,e=n.position.y):(this.keepAspect?o>0&&r/this.aspectRatio>0?o>r/this.aspectRatio?i<0?(t-=o,l<0?e-=o*this.aspectRatio:e+=o*this.aspectRatio):(t+=o,l<0?e-=o*this.aspectRatio:e+=o*this.aspectRatio):l<0?(e-=r,i<0?t-=r/this.aspectRatio:t+=r/this.aspectRatio):(e+=r,i<0?t-=r/this.aspectRatio:t+=r/this.aspectRatio):o>0?i<0?(t-=o,l<0?e-=o*this.aspectRatio:e+=o*this.aspectRatio):(t+=o,l<0?e-=o*this.aspectRatio:e+=o*this.aspectRatio):r>0&&(l<0?(e-=r,i<0?t-=r/this.aspectRatio:t+=r/this.aspectRatio):(e+=r,i<0?t-=r/this.aspectRatio:t+=r/this.aspectRatio)):(o>0&&(i<0?t-=o:t+=o),r>0&&(l<0?e-=r:e+=r)),(t<this.minXClamp||t>this.maxXClamp||e<this.minYClamp||e>this.maxYClamp)&&(t=n.position.x,e=n.position.y),tt.instance.borrow(t,e))},e.prototype.dragCorner=function(t,e,n){var i,l=0,o=0,r=0,s=0,a=0;if(this.keepAspect)if(l=(i=n.getHorizontalNeighbour().getVerticalNeighbour()).position.x,o=i.position.y,t<=i.position.x)if(e<=i.position.y)if((a=this.getSide(tt.instance.borrow(l-100/this.aspectRatio,o-100/this.aspectRatio*this.aspectRatio),i.position,tt.instance.borrow(t,e)))>0){r=Math.abs(i.position.y-e);var u=this.enforceMinSize(i.position.x-(s=r/this.aspectRatio),i.position.y-r,n);n.move(u.x,u.y),tt.instance.returnPoint(u)}else a<0&&(s=Math.abs(i.position.x-t),u=this.enforceMinSize(i.position.x-s,i.position.y-(r=s*this.aspectRatio),n),n.move(u.x,u.y),tt.instance.returnPoint(u));else(a=this.getSide(tt.instance.borrow(l-100/this.aspectRatio,o+100/this.aspectRatio*this.aspectRatio),i.position,tt.instance.borrow(t,e)))>0?(s=Math.abs(i.position.x-t),u=this.enforceMinSize(i.position.x-s,i.position.y+(r=s*this.aspectRatio),n),n.move(u.x,u.y),tt.instance.returnPoint(u)):a<0&&(r=Math.abs(i.position.y-e),u=this.enforceMinSize(i.position.x-(s=r/this.aspectRatio),i.position.y+r,n),n.move(u.x,u.y),tt.instance.returnPoint(u));else e<=i.position.y?(a=this.getSide(tt.instance.borrow(l+100/this.aspectRatio,o-100/this.aspectRatio*this.aspectRatio),i.position,tt.instance.borrow(t,e)))<0?(r=Math.abs(i.position.y-e),u=this.enforceMinSize(i.position.x+(s=r/this.aspectRatio),i.position.y-r,n),n.move(u.x,u.y),tt.instance.returnPoint(u)):a>0&&(s=Math.abs(i.position.x-t),u=this.enforceMinSize(i.position.x+s,i.position.y-(r=s*this.aspectRatio),n),n.move(u.x,u.y),tt.instance.returnPoint(u)):(a=this.getSide(tt.instance.borrow(l+100/this.aspectRatio,o+100/this.aspectRatio*this.aspectRatio),i.position,tt.instance.borrow(t,e)))<0?(s=Math.abs(i.position.x-t),u=this.enforceMinSize(i.position.x+s,i.position.y+(r=s*this.aspectRatio),n),n.move(u.x,u.y),tt.instance.returnPoint(u)):a>0&&(r=Math.abs(i.position.y-e),u=this.enforceMinSize(i.position.x+(s=r/this.aspectRatio),i.position.y+r,n),n.move(u.x,u.y),tt.instance.returnPoint(u));else u=this.enforceMinSize(t,e,n),n.move(u.x,u.y),tt.instance.returnPoint(u);this.center.recalculatePosition(this.getBounds())},e.prototype.getSide=function(t,n,i){var l=e.sign((n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x));return tt.instance.returnPoint(t),tt.instance.returnPoint(i),l},e.prototype.handleRelease=function(t){if(null!=t){for(var e=0,n=0;n<this.currentDragTouches.length;n++)t.id===this.currentDragTouches[n].id&&(this.currentDragTouches[n].dragHandle.setDrag(!1),e=n);this.currentDragTouches.splice(e,1),this.draw(this.ctx)}},e.prototype.handleMove=function(t){for(var e=!1,n=0;n<this.currentDragTouches.length;n++)if(t.id===this.currentDragTouches[n].id&&null!=this.currentDragTouches[n].dragHandle){var i=this.currentDragTouches[n],l=this.clampPosition(t.x-i.dragHandle.offset.x,t.y-i.dragHandle.offset.y);t.x=l.x,t.y=l.y,tt.instance.returnPoint(l),i.dragHandle instanceof ot?this.dragCorner(t.x,t.y,i.dragHandle):this.dragCenter(t.x,t.y,i.dragHandle),this.currentlyInteracting=!0,e=!0,at.setPressed(this.canvas);break}if(!e){for(var o=0;o<this.markers.length;o++){var r=this.markers[o];if(r.touchInBounds(t.x,t.y)){t.dragHandle=r,this.currentDragTouches.push(t),r.setDrag(!0),t.dragHandle.offset.x=t.x-t.dragHandle.position.x,t.dragHandle.offset.y=t.y-t.dragHandle.position.y,this.dragCorner(t.x-t.dragHandle.offset.x,t.y-t.dragHandle.offset.y,t.dragHandle);break}}null!==t.dragHandle&&"undefined"!=typeof t.dragHandle||this.center.touchInBounds(t.x,t.y)&&(t.dragHandle=this.center,this.currentDragTouches.push(t),t.dragHandle.setDrag(!0),t.dragHandle.offset.x=t.x-t.dragHandle.position.x,t.dragHandle.offset.y=t.y-t.dragHandle.position.y,this.dragCenter(t.x-t.dragHandle.offset.x,t.y-t.dragHandle.offset.y,t.dragHandle))}},e.prototype.updateClampBounds=function(){var t=this.srcImage.height/this.srcImage.width,e=this.canvas.width,n=this.canvas.height;this.canvas.height/this.canvas.width>t?(e=this.canvas.width,n=this.canvas.width*t):(n=this.canvas.height,e=this.canvas.height/t),this.minXClamp=this.canvas.width/2-e/2,this.minYClamp=this.canvas.height/2-n/2,this.maxXClamp=this.canvas.width/2+e/2,this.maxYClamp=this.canvas.height/2+n/2},e.prototype.getCropBounds=function(){var t=this.getBounds();return t.top=Math.round((t.top-this.minYClamp)/this.ratioH),t.bottom=Math.round((t.bottom-this.minYClamp)/this.ratioH),t.left=Math.round((t.left-this.minXClamp)/this.ratioW),t.right=Math.round((t.right-this.minXClamp)/this.ratioW),t},e.prototype.clampPosition=function(t,e){return t<this.minXClamp&&(t=this.minXClamp),t>this.maxXClamp&&(t=this.maxXClamp),e<this.minYClamp&&(e=this.minYClamp),e>this.maxYClamp&&(e=this.maxYClamp),tt.instance.borrow(t,e)},e.prototype.isImageSet=function(){return this.imageSet},e.prototype.setImage=function(t){if(this.srcImage=t,t){this.imageSet=!0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.buffer.getContext("2d").clearRect(0,0,this.buffer.width,this.buffer.height),this.cropperSettings.fileType||(this.fileType=this.getDataUriMimeType(t.src)),this.cropperSettings.minWithRelativeToResolution&&(this.minWidth=this.canvas.width*this.cropperSettings.minWidth/this.srcImage.width,this.minHeight=this.canvas.height*this.cropperSettings.minHeight/this.srcImage.height),this.updateClampBounds(),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height;var e=this.getCropPositionFromMarkers();this.setCropPosition(e)}else this.imageSet=!1,this.draw(this.ctx)},e.prototype.updateCropPosition=function(t){var e=this.getCropPositionFromBounds(t);this.setCropPosition(e)},e.prototype.setCropPosition=function(t){this.tl.setPosition(t[0].x,t[0].y),this.tr.setPosition(t[1].x,t[1].y),this.bl.setPosition(t[2].x,t[2].y),this.br.setPosition(t[3].x,t[3].y),this.center.setPosition(t[4].x,t[4].y);for(var n=0,i=t;n<i.length;n++)tt.instance.returnPoint(i[n]);this.vertSquashRatio=e.detectVerticalSquash(this.srcImage),this.draw(this.ctx),this.croppedImage=this.getCroppedImageHelper(!1,this.cropWidth,this.cropHeight)},e.prototype.getCropPositionFromMarkers=function(){var t,e,n,i,l=this.canvas.width,o=this.canvas.height,r=this.srcImage.height/this.srcImage.width,s=this.getBounds(),a=s.height/s.width,u=this.canvas.width/2,d=this.canvas.height/2;if(a>r){var c=Math.min(l*r,o),p=c/a;t=tt.instance.borrow(u-p/2,d+c/2),e=tt.instance.borrow(u+p/2,d+c/2),n=tt.instance.borrow(u-p/2,d-c/2),i=tt.instance.borrow(u+p/2,d-c/2)}else{var h=Math.min(o/r,l),m=h*a;t=tt.instance.borrow(u-h/2,d+m/2),e=tt.instance.borrow(u+h/2,d+m/2),n=tt.instance.borrow(u-h/2,d-m/2),i=tt.instance.borrow(u+h/2,d-m/2)}return[t,e,n,i,tt.instance.borrow(u,d)]},e.prototype.getCropPositionFromBounds=function(t){var e=0,n=0,i=this.srcImage.height/this.srcImage.width;this.canvasHeight/this.canvasWidth>i?e=this.buffer.height/2-this.canvasWidth*i/2:n=this.buffer.width/2-this.canvasHeight/i/2;var l=(this.canvasWidth-2*n)/this.srcImage.width,o=(this.canvasHeight-2*e)/this.srcImage.height,r=t.height*o,s=t.width*l,a=t.left*l+n,u=t.top*o+e;if(this.keepAspect){var d=r/this.aspectRatio,c=s*this.aspectRatio;this.getCropBounds().height===t.height?r=c:this.getCropBounds().width===t.width?s=d:Math.abs(c-r)<Math.abs(d-s)?s=d:r=c}return[tt.instance.borrow(a,u+r),tt.instance.borrow(a+s,u+r),tt.instance.borrow(a,u),tt.instance.borrow(a+s,u),tt.instance.borrow(a+s/2,u+r/2)]},e.prototype.getCroppedImageHelper=function(t,e,n){return this.cropperSettings.cropOnResize?this.getCroppedImage(t,e,n):this.croppedImage?this.croppedImage:document.createElement("img")},e.prototype.getCroppedImage=function(t,e,n){var i=this.getBounds();if(this.srcImage){var l=this.srcImage.height/this.srcImage.width,o=this.canvas.height/this.canvas.width,r=this.canvas.width,s=this.canvas.height;o>l?(r=this.canvas.width,s=this.canvas.width*l):o<l?(s=this.canvas.height,r=this.canvas.height/l):(s=this.canvas.height,r=this.canvas.width),this.ratioW=r/this.srcImage.width,this.ratioH=s/this.srcImage.height;var a=(this.buffer.height-s)/2/this.ratioH,u=(this.buffer.width-r)/2/this.ratioW,d=this.cropCanvas.getContext("2d");if(this.cropperSettings.preserveSize||t){var c=Math.round(i.right/this.ratioW-i.left/this.ratioW),p=Math.round(i.bottom/this.ratioH-i.top/this.ratioH);this.cropCanvas.width=c,this.cropCanvas.height=p,this.cropperSettings.croppedWidth=this.cropCanvas.width,this.cropperSettings.croppedHeight=this.cropCanvas.height}else this.cropCanvas.width=this.cropWidth,this.cropCanvas.height=this.cropHeight;return d.clearRect(0,0,this.cropCanvas.width,this.cropCanvas.height),this.drawImageIOSFix(d,this.srcImage,Math.max(Math.round(i.left/this.ratioW-u),0),Math.max(Math.round(i.top/this.ratioH-a),0),Math.max(Math.round(i.width/this.ratioW),1),Math.max(Math.round(i.height/this.ratioH),1),0,0,this.cropCanvas.width,this.cropCanvas.height),this.cropperSettings.resampleFn&&this.cropperSettings.resampleFn(this.cropCanvas),this.croppedImage.width=this.cropCanvas.width,this.croppedImage.height=this.cropCanvas.height,this.croppedImage.src=this.cropCanvas.toDataURL(this.fileType,this.cropperSettings.compressRatio),this.croppedImage}return document.createElement("img")},e.prototype.getBounds=function(){for(var t=Number.MAX_VALUE,e=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE,l=0;l<this.markers.length;l++){var o=this.markers[l];o.position.x<t&&(t=o.position.x),o.position.x>n&&(n=o.position.x),o.position.y<e&&(e=o.position.y),o.position.y>i&&(i=o.position.y)}var r=new et;return r.left=t,r.right=n,r.top=e,r.bottom=i,r},e.prototype.setBounds=function(t){for(var e=this.getBounds(),n=0;n<this.markers.length;n++){var i=this.markers[n];i.setPosition(i.position.x===e.left?t.left:t.right,i.position.y===e.top?t.top:t.bottom)}this.center.recalculatePosition(t),this.center.draw(this.ctx),this.draw(this.ctx)},e.prototype.onTouchMove=function(t){if(this.crop.isImageSet()){if(t.preventDefault(),1===t.touches.length)for(var n=0;n<t.touches.length;n++){var i=t.touches[n],l=e.getTouchPos(this.canvas,i),o=new rt(l.x,l.y,i.identifier);tt.instance.returnPoint(l),this.move(o)}else if(2===t.touches.length){var r=(t.touches[0].clientX-t.touches[1].clientX)*(t.touches[0].clientX-t.touches[1].clientX)+(t.touches[0].clientY-t.touches[1].clientY)*(t.touches[0].clientY-t.touches[1].clientY);if(this.previousDistance&&this.previousDistance!==r){var s=this.getBounds();r<this.previousDistance&&(s.top+=1,s.left+=1,s.right-=1,s.bottom-=1),r>this.previousDistance&&(s.top!==this.minYClamp&&s.bottom!==this.maxYClamp&&s.left!==this.minXClamp&&s.right!==this.maxXClamp?(s.top-=1,s.left-=1,s.right+=1,s.bottom+=1):s.top!==this.minYClamp&&s.bottom!==this.maxYClamp&&s.left===this.minXClamp&&s.right!==this.maxXClamp?(s.top-=1,s.right+=2,s.bottom+=1):s.top!==this.minYClamp&&s.bottom!==this.maxYClamp&&s.left!==this.minXClamp&&s.right===this.maxXClamp?(s.top-=1,s.left-=2,s.bottom+=1):s.top===this.minYClamp&&s.bottom!==this.maxYClamp&&s.left!==this.minXClamp&&s.right!==this.maxXClamp?(s.left-=1,s.right+=1,s.bottom+=2):s.top!==this.minYClamp&&s.bottom===this.maxYClamp&&s.left!==this.minXClamp&&s.right!==this.maxXClamp?(s.top-=2,s.left-=1,s.right+=1):s.top===this.minYClamp&&s.bottom!==this.maxYClamp&&s.left===this.minXClamp&&s.right!==this.maxXClamp?(s.right+=2,s.bottom+=2):s.top===this.minYClamp&&s.bottom!==this.maxYClamp&&s.left!==this.minXClamp&&s.right===this.maxXClamp?(s.left-=2,s.bottom+=2):s.top!==this.minYClamp&&s.bottom===this.maxYClamp&&s.left===this.minXClamp&&s.right!==this.maxXClamp?(s.top-=2,s.right+=2):s.top!==this.minYClamp&&s.bottom===this.maxYClamp&&s.left!==this.minXClamp&&s.right===this.maxXClamp&&(s.top-=2,s.left-=2)),s.top<this.minYClamp&&(s.top=this.minYClamp),s.bottom>this.maxYClamp&&(s.bottom=this.maxYClamp),s.left<this.minXClamp&&(s.left=this.minXClamp),s.right>this.maxXClamp&&(s.right=this.maxXClamp),this.setBounds(s)}this.previousDistance=r}this.draw(this.ctx)}},e.prototype.onMouseMove=function(t){if(this.crop.isImageSet()&&this.isMouseDown){var n=e.getMousePos(this.canvas,t);this.move(new rt(n.x,n.y,0));var i=this.getDragTouchForID(0);i?(i.x=n.x,i.y=n.y):i=new rt(n.x,n.y,0),tt.instance.returnPoint(n),this.drawCursors(i),this.draw(this.ctx)}},e.prototype.move=function(t){this.isMouseDown&&this.handleMove(t)},e.prototype.getDragTouchForID=function(t){for(var e=0;e<this.currentDragTouches.length;e++)if(t===this.currentDragTouches[e].id)return this.currentDragTouches[e]},e.prototype.drawCursors=function(t){var e=!1;null!=t&&(t.dragHandle===this.center&&(at.setStyle(this.canvas,"move"),e=!0),null!==t.dragHandle&&t.dragHandle instanceof ot&&(this.drawCornerCursor(t.dragHandle,t.dragHandle.position.x,t.dragHandle.position.y),e=!0));var n=!1;if(!e){for(var i=0;i<this.markers.length;i++)n=n||this.drawCornerCursor(this.markers[i],t.x,t.y);n||at.setStyle(this.canvas,"initial")}n||e||!this.center.touchInBounds(t.x,t.y)?this.center.setOver(!1):(this.center.setOver(!0),at.setOver(this.canvas),at.setStyle(this.canvas,"move"))},e.prototype.drawCornerCursor=function(t,e,n){return t.touchInBounds(e,n)?(t.setOver(!0),t.getHorizontalNeighbour().position.x>t.position.x?t.getVerticalNeighbour().position.y>t.position.y?(at.setOver(this.canvas),at.setStyle(this.canvas,"nwse-resize")):(at.setOver(this.canvas),at.setStyle(this.canvas,"nesw-resize")):t.getVerticalNeighbour().position.y>t.position.y?(at.setOver(this.canvas),at.setStyle(this.canvas,"nesw-resize")):(at.setOver(this.canvas),at.setStyle(this.canvas,"nwse-resize")),!0):(t.setOver(!1),!1)},e.prototype.onTouchStart=function(t){this.crop.isImageSet()&&(this.isMouseDown=!0)},e.prototype.onTouchEnd=function(t){if(this.crop.isImageSet()){for(var e=0;e<t.changedTouches.length;e++){var n=this.getDragTouchForID(t.changedTouches[e].identifier);n&&void 0!==n&&((n.dragHandle instanceof ot||n.dragHandle instanceof st)&&n.dragHandle.setOver(!1),this.handleRelease(n))}0===this.currentDragTouches.length&&(this.isMouseDown=!1,this.currentlyInteracting=!1)}},e.prototype.drawImageIOSFix=function(t,e,n,i,l,o,r,s,a,u){t.drawImage(e,n,i,l,o,r,s,a,u)},e.prototype.onMouseDown=function(t){this.crop.isImageSet()&&(this.isMouseDown=!0)},e.prototype.onMouseUp=function(t){this.crop.isImageSet()&&(at.setReleased(this.canvas),this.isMouseDown=!1,this.handleRelease(new rt(0,0,0)))},e}(function(){}),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Z.__extends)(e,t),e}(Number),ct=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];pt.debug&&console.log(t)},t}(),pt=function(){function t(){}return t.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},t.imageHasData=function(t){return!!t.exifdata},t.base64ToArrayBuffer=function(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),n=e.length,i=new ArrayBuffer(n),l=new Uint8Array(i),o=0;o<n;o++)l[o]=e.charCodeAt(o);return i},t.objectURLToBlob=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200!==n.status&&0!==n.status||e(n.response)},n.send()},t.getImageData=function(e,n){function i(i){var l=t.findEXIFinJPEG(i),o=t.findIPTCinJPEG(i);e.exifdata=l||{},e.iptcdata=o||{},n&&n.call(e)}if("src"in e&&e.src)if(/^data:/i.test(e.src))i(t.base64ToArrayBuffer(e.src));else if(/^blob:/i.test(e.src)){var l=new FileReader;l.onload=function(t){i(t.target.result)},t.objectURLToBlob(e.src,function(t){l.readAsArrayBuffer(t)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!==o.status&&0!==o.status)throw"Could not load image";i(o.response)},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else if(FileReader&&(e instanceof Blob||e instanceof File)){var r=new FileReader;r.onload=function(t){ct.log("Got file of length "+t.target.result.byteLength),i(t.target.result)},r.readAsArrayBuffer(e)}},t.findEXIFinJPEG=function(e){var n=new DataView(e);if(ct.log("Got file of length "+e.byteLength),255!==n.getUint8(0)||216!==n.getUint8(1))return ct.log("Not a valid JPEG"),!1;for(var i,l=2,o=e.byteLength;l<o;){if(255!==n.getUint8(l))return ct.log("Not a valid marker at offset "+l+", found: "+n.getUint8(l)),!1;if(i=n.getUint8(l+1),ct.log(i),225===i)return ct.log("Found 0xFFE1 marker"),t.readEXIFData(n,l+4);l+=2+n.getUint16(l+2)}},t.findIPTCinJPEG=function(e){var n=new DataView(e);if(ct.log("Got file of length "+e.byteLength),255!==n.getUint8(0)||216!==n.getUint8(1))return ct.log("Not a valid JPEG"),!1;for(var i,l,o=2,r=e.byteLength;o<r;){if(56===(i=n).getUint8(l=o)&&66===i.getUint8(l+1)&&73===i.getUint8(l+2)&&77===i.getUint8(l+3)&&4===i.getUint8(l+4)&&4===i.getUint8(l+5)){var s=n.getUint8(o+7);s%2!=0&&(s+=1),0===s&&(s=4);var a=o+8+s,u=n.getUint16(o+6+s);return t.readIPTCData(e,a,u)}o++}},t.readIPTCData=function(e,n,i){for(var l,o,r,s,a=new DataView(e),u={},d=n;d<n+i;)28===a.getUint8(d)&&2===a.getUint8(d+1)&&(s=a.getUint8(d+2))in t.IptcFieldMap&&(r=a.getInt16(d+3),o=t.IptcFieldMap[s],l=t.getStringFromDB(a,d+5,r),u.hasOwnProperty(o)?u[o]instanceof Array?u[o].push(l):u[o]=[u[o],l]:u[o]=l),d++;return u},t.readTags=function(e,n,i,l,o){for(var r,s,a=e.getUint16(i,!o),u={},d=0;d<a;d++)(s=l[e.getUint16(r=i+12*d+2,!o)])||ct.log("Unknown tag: "+e.getUint16(r,!o)),u[s]=t.readTagValue(e,r,n,i,o);return u},t.readTagValue=function(e,n,i,l,o){var r,s,a,u,d,c,p=e.getUint16(n+2,!o),h=e.getUint32(n+4,!o),m=e.getUint32(n+8,!o)+i;switch(p){case 1:case 7:if(1===h)return e.getUint8(n+8,!o);for(r=h>4?m:n+8,s=[],u=0;u<h;u++)s[u]=e.getUint8(r+u);return s;case 2:return t.getStringFromDB(e,r=h>4?m:n+8,h-1);case 3:if(1===h)return e.getUint16(n+8,!o);for(r=h>2?m:n+8,s=[],u=0;u<h;u++)s[u]=e.getUint16(r+2*u,!o);return s;case 4:if(1===h)return e.getUint32(n+8,!o);for(s=[],u=0;u<h;u++)s[u]=e.getUint32(m+4*u,!o);return s;case 5:if(1===h)return d=e.getUint32(m,!o),c=e.getUint32(m+4,!o),(a=new dt(d/c)).numerator=d,a.denominator=c,a;for(s=[],u=0;u<h;u++)d=e.getUint32(m+8*u,!o),c=e.getUint32(m+4+8*u,!o),s[u]=new dt(d/c),s[u].numerator=d,s[u].denominator=c;return s;case 9:if(1===h)return e.getInt32(n+8,!o);for(s=[],u=0;u<h;u++)s[u]=e.getInt32(m+4*u,!o);return s;case 10:if(1===h)return e.getInt32(m,!o)/e.getInt32(m+4,!o);for(s=[],u=0;u<h;u++)s[u]=e.getInt32(m+8*u,!o)/e.getInt32(m+4+8*u,!o);return s}},t.getStringFromDB=function(t,e,n){for(var i="",l=e;l<e+n;l++)i+=String.fromCharCode(t.getUint8(l));return i},t.readEXIFData=function(e,n){if("Exif"!==t.getStringFromDB(e,n,4))return ct.log("Not valid EXIF data! "+t.getStringFromDB(e,n,4)),!1;var i,l,o,r,s,a=n+6;if(18761===e.getUint16(a))i=!1;else{if(19789!==e.getUint16(a))return ct.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!==e.getUint16(a+2,!i))return ct.log("Not valid TIFF data! (no 0x002A)"),!1;var u=e.getUint32(a+4,!i);if(u<8)return ct.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(a+4,!i)),!1;if((l=t.readTags(e,a,a+u,t.TiffTags,i)).ExifIFDPointer)for(o in r=t.readTags(e,a,a+l.ExifIFDPointer,t.Tags,i))if({}.hasOwnProperty.call(r,o)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":r[o]=t.StringValues[o][r[o]];break;case"ExifVersion":case"FlashpixVersion":r[o]=String.fromCharCode(r[o][0],r[o][1],r[o][2],r[o][3]);break;case"ComponentsConfiguration":r[o]=t.StringValues.Components[r[o][0]]+t.StringValues.Components[r[o][1]]+t.StringValues.Components[r[o][2]]+t.StringValues.Components[r[o][3]]}l[o]=r[o]}if(l.GPSInfoIFDPointer)for(o in s=t.readTags(e,a,a+l.GPSInfoIFDPointer,t.GPSTags,i))if({}.hasOwnProperty.call(s,o)){switch(o){case"GPSVersionID":s[o]=s[o][0]+"."+s[o][1]+"."+s[o][2]+"."+s[o][3]}l[o]=s[o]}return l},t.getData=function(e,n){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete||(t.imageHasData(e)?n&&n.call(e):t.getImageData(e,n),0))},t.getTag=function(e,n){if(t.imageHasData(e))return e.exifdata[n]},t.getAllTags=function(e){if(!t.imageHasData(e))return{};var n,i=e.exifdata,l={};for(n in i)i.hasOwnProperty(n)&&(l[n]=i[n]);return l},t.pretty=function(e){if(!t.imageHasData(e))return"";var n,i=e.exifdata,l="";for(n in i)i.hasOwnProperty(n)&&("object"==typeof i[n]?i[n]instanceof Number?l+=n+" : "+i[n]+" ["+i[n].numerator+"/"+i[n].denominator+"]\r\n":l+=n+" : ["+i[n].length+" values]\r\n":l+=n+" : "+i[n]+"\r\n");return l},t.readFromBinaryFile=function(e){return t.findEXIFinJPEG(e)},t.debug=!1,t.IptcFieldMap={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"},t.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},t.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},t.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},t.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},t}(),ht=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=+t,this.y=+e,this.w=+n,this.h=+i}return t.prototype.toBounds=function(){return new et(this.x,this.y,this.w,this.h)},t.prototype.isInitialized=function(){return 0!==this.x&&0!==this.y&&0!==this.w&&0!==this.h},t}(),mt=function(){function t(t){this.cropPositionChange=new i.EventEmitter,this.onCrop=new i.EventEmitter,this.renderer=t}return t.prototype.ngAfterViewInit=function(){var t=this.cropcanvas.nativeElement;this.settings||(this.settings=new it),this.renderer.setElementAttribute(t,"class",this.settings.cropperClass),this.settings.dynamicSizing?(this.windowListener=this.resize.bind(this),window.addEventListener("resize",this.windowListener)):(this.renderer.setElementAttribute(t,"width",this.settings.canvasWidth.toString()),this.renderer.setElementAttribute(t,"height",this.settings.canvasHeight.toString())),this.cropper||(this.cropper=new ut(this.settings)),this.cropper.prepare(t)},t.prototype.ngOnChanges=function(t){if(this.isCropPositionChanged(t)){if(this.cropper.updateCropPosition(this.cropPosition.toBounds()),this.cropper.isImageSet()){var e=this.cropper.getCropBounds();this.image.image=this.cropper.getCroppedImageHelper().src,this.onCrop.emit(e)}this.updateCropBounds()}t.inputImage&&this.setImage(t.inputImage.currentValue)},t.prototype.ngOnDestroy=function(){this.settings.dynamicSizing&&this.windowListener&&window.removeEventListener("resize",this.windowListener)},t.prototype.onTouchMove=function(t){this.cropper.onTouchMove(t)},t.prototype.onTouchStart=function(t){this.cropper.onTouchStart(t)},t.prototype.onTouchEnd=function(t){this.cropper.onTouchEnd(t),this.cropper.isImageSet()&&(this.image.image=this.cropper.getCroppedImageHelper().src,this.onCrop.emit(this.cropper.getCropBounds()),this.updateCropBounds())},t.prototype.onMouseDown=function(t){this.cropper.onMouseDown(t)},t.prototype.onMouseUp=function(t){this.cropper.isImageSet()&&(this.cropper.onMouseUp(t),this.image.image=this.cropper.getCroppedImageHelper().src,this.onCrop.emit(this.cropper.getCropBounds()),this.updateCropBounds())},t.prototype.onMouseMove=function(t){this.cropper.onMouseMove(t)},t.prototype.fileChangeListener=function(t){if(0!==t.target.files.length){var e=t.target.files[0];if(this.settings.allowedFilesRegex.test(e.name)){var n=new Image,i=new FileReader,l=this;i.addEventListener("loadend",function(t){n.addEventListener("load",function(){l.setImage(n)}),n.src=t.target.result}),i.readAsDataURL(e)}}},t.prototype.resize=function(){var t=this.cropcanvas.nativeElement;this.settings.canvasWidth=t.offsetWidth,this.settings.canvasHeight=t.offsetHeight,this.cropper.resizeCanvas(t.offsetWidth,t.offsetHeight,!0)},t.prototype.reset=function(){this.cropper.reset(),this.renderer.setElementAttribute(this.cropcanvas.nativeElement,"class",this.settings.cropperClass),this.image.image=this.cropper.getCroppedImageHelper().src},t.prototype.setImage=function(t,e){var n=this;void 0===e&&(e=null);var i=this;this.renderer.setElementAttribute(this.cropcanvas.nativeElement,"class",this.settings.cropperClass+" "+this.settings.croppingClass),this.raf=window.requestAnimationFrame(function(){i.raf&&window.cancelAnimationFrame(i.raf),t.naturalHeight>0&&t.naturalWidth>0&&(t.height=t.naturalHeight,t.width=t.naturalWidth,window.cancelAnimationFrame(i.raf),i.getOrientedImage(t,function(t){if(n.settings.dynamicSizing){var l=n.cropcanvas.nativeElement;n.settings.canvasWidth=l.offsetWidth,n.settings.canvasHeight=l.offsetHeight,n.cropper.resizeCanvas(l.offsetWidth,l.offsetHeight,!1)}i.cropper.setImage(t),i.cropPosition&&i.cropPosition.isInitialized()&&i.cropper.updateCropPosition(i.cropPosition.toBounds()),i.image.original=t;var o=i.cropper.getCropBounds();i.image.image=i.cropper.getCroppedImageHelper().src,null!=e&&(i.cropper.setBounds(o=e),n.cropper.updateCropPosition(o)),i.onCrop.emit(o)}))})},t.prototype.isCropPositionChanged=function(t){return!!(this.cropper&&t.cropPosition&&this.isCropPositionUpdateNeeded)||(this.isCropPositionUpdateNeeded=!0,!1)},t.prototype.updateCropBounds=function(){var t=this.cropper.getCropBounds();this.cropPositionChange.emit(new ht(t.left,t.top,t.width,t.height)),this.isCropPositionUpdateNeeded=!1},t.prototype.getOrientedImage=function(t,e){var n;pt.getData(t,function(){var i=pt.getTag(t,"Orientation");if([3,6,8].indexOf(i)>-1){var l=document.createElement("canvas"),o=l.getContext("2d"),r=t.width,s=t.height,a=0,u=0,d=0;switch(i){case 3:a=-t.width,u=-t.height,d=180;break;case 6:r=t.height,s=t.width,u=-t.height,d=90;break;case 8:r=t.height,s=t.width,a=-t.width,d=270}l.width=r,l.height=s,o.rotate(d*Math.PI/180),o.drawImage(t,a,u),(n=document.createElement("img")).width=r,n.height=s,n.addEventListener("load",function(){e(n)}),n.src=l.toDataURL("image/png")}else e(n=t)})},t}(),gt=function(){},ft=function(){function t(t,e,n){this.notificationService=t,this.matDialog=e,this.userPicService=n,this.onSubmit=new i.EventEmitter,this.cropperSettings=new it,this.cropperSettings.width=200,this.cropperSettings.height=200,this.cropperSettings.croppedWidth=200,this.cropperSettings.croppedHeight=200,this.cropperSettings.canvasWidth=300,this.cropperSettings.canvasHeight=300,this.cropperSettings.minWidth=10,this.cropperSettings.minHeight=10,this.cropperSettings.rounded=!1,this.cropperSettings.keepAspect=!0,this.cropperSettings.cropperDrawSettings.strokeColor="rgba(255,255,255,1)",this.cropperSettings.cropperDrawSettings.strokeWidth=2,this.imageData={}}return t.prototype.cropped=function(t){this.cropperSettings.croppedHeight=400,this.cropperSettings.croppedWidth=400},t.prototype.changeProfileImg=function(t){var e=this;this.userPicService.uploadUserPicture(this.createCroppedImg(t)).subscribe(function(t){var n=t;e.notificationService.success("Your profile photo was changed."),e.onSubmit.emit(n)},function(t){e.notificationService.danger("Error changing profile photo."),e.matDialog.closeAll()})},t.prototype.fileChangeListener=function(t){var e=new Image,n=t.target.files[0],i=new FileReader,l=this;l.fileName=n.name,l.fileType=n.type,i.onloadend=function(t){e.src=t.target.result,l.cropper.setImage(e)},i.readAsDataURL(n)},t.prototype.base64ToBlob=function(t){for(var e=atob(this.sliceCoding(t)),n=e.length,i=new ArrayBuffer(n),l=new Uint8Array(i),o=0;o<n;o++)l[o]=e.charCodeAt(o);return new Blob([l],{type:this.fileType})},t.prototype.blobToFile=function(t,e){var n=t;return n.lastModifiedDate=new Date,n.name=e,n},t.prototype.createCroppedImg=function(t){var e=this.base64ToBlob(t);return this.blobToFile(e,this.fileName)},t.prototype.sliceCoding=function(t){return t.slice(t.indexOf("base64,")+7)},t}(),vt=n("O5mP"),yt=["0:00","1:00","2:00","3:00","4:00","5:00","6:00","7:00","8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],Ct=["12:00 AM","1:00 AM","2:00 AM","3:00 AM","4:00 AM","5:00 AM","6:00 AM","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM","10:00 PM","11:00 PM"],bt=function(){function t(t,e,n,i,l,o,r,s,a,u){this.dialog=t,this.enterEmailService=e,this.impersonationService=n,this.notificationService=i,this.projectsService=l,this.profileService=o,this.route=r,this.tasksService=s,this.userPicService=a,this.usersService=u,this.userModel=new c.a,this.emailPattern=h.b,this.isFormShownArray=[!0,!0,!0],this.sendEmailDays=[],this.showWrongEmailMessage=!1,this.timeFormats=[new f(12),new f(24)],this.timeFormatModel=this.timeFormats[1],this.weekStartDays=["Sunday","Monday"]}return t.prototype.ngOnInit=function(){var t=this;this.route.data.forEach(function(e){t.userModel=new c.a(t.impersonationService.impersonationUser||e.user)}),this.avatarUrl=this.userModel.urlIcon.replace("Icons","Avatars"),this.timeFormatModel=this.userModel.timeFormat?new f(this.userModel.timeFormat):this.timeFormats[1],this.weekStartDayModel=this.weekStartDays[this.userModel.weekStart],this.getAvatar(),this.getDateFormats(),this.getProjects(),this.setSendEmailTimeData(this.userModel.timeFormat),this.setSendEmailWeekDaysArray(this.userModel.weekStart)},t.prototype.getAvatar=function(){var t=this;return this.userPicService.loadUserPicture(this.userModel.id).toPromise().then(function(e){return t.avatarUrl=e})},t.prototype.isGravatarIcon=function(t){return t.includes("gravatar")},t.prototype.openPhotoDialog=function(){var t=this;this.dialogRef=this.dialog.open(ft),this.dialogRef.componentInstance.onSubmit.subscribe(function(e){t.dialogRef.close(),t.updateAvatar(e)})},t.prototype.toggleForm=function(t){this.isFormShownArray[t]=!this.isFormShownArray[t]},t.prototype.updateAvatar=function(t){this.avatarUrl=t;var e={urlIcon:t.replace("Avatars","Icons").replace("s=200","s=40")};if(this.impersonationService.impersonationId){var n=Object.assign(this.impersonationService.impersonationUser,e);this.impersonationService.setStorage(n)}else this.usersService.setUserInfo(e)},t.prototype.dateFormatOnChange=function(t){this.userModel.dateFormatId=t.dateFormatId,this.userModel.dateFormat=t.dateFormat},t.prototype.defaultProjectOnChange=function(t){this.userModel.defaultProjectId=t.id,this.loadTasks(t.id)},t.prototype.resetPassword=function(){var t=this;this.enterEmailService.sendEmail(this.userModel.email).subscribe(function(e){e.isSentEmail?(t.resetPasswordMessage="Email to reset password sent to "+t.userModel.email,setTimeout(function(){return t.resetPasswordMessage=""},5e3)):t.notificationService.danger("Error when resetting the password.")},function(e){return t.notificationService.danger("Error when resetting the password.")})},t.prototype.sendEmailDayOnChange=function(){var t=[];this.sendEmailDays.forEach(function(e,n){e&&t.push(n)}),this.userModel.sendEmailDays=t.join(",")},t.prototype.sendEmailTimeOnChange=function(t){this.userModel.sendEmailTime=t.getOptionIndex(this.sendEmailTimeModel)},t.prototype.timeFormatOnChange=function(){this.userModel.timeFormat=this.timeFormatModel.timeFormat,this.setSendEmailTimeData(this.timeFormatModel.timeFormat)},t.prototype.weekStartDayOnChange=function(){this.userModel.weekStart=this.weekStartDays.indexOf(this.weekStartDayModel),this.setSendEmailWeekDaysArray(this.userModel.weekStart)},t.prototype.submitNotifications=function(){var t=this,e={isWeeklyTimeEntryUpdatesSend:this.userModel.isWeeklyTimeEntryUpdatesSend,sendEmailTime:this.userModel.sendEmailTime,sendEmailDays:this.userModel.sendEmailDays};this.profileService.submitNotifications(e,this.userModel.id).subscribe(function(){if(t.impersonationService.impersonationId){var n=Object.assign(t.impersonationService.impersonationUser,e);t.impersonationService.setStorage(n)}else t.usersService.setUserInfo(e);t.notificationService.success("Profile settings has been successfully changed.")},function(e){t.notificationService.danger("Error changing profile settings.")})},t.prototype.submitPersonalInfo=function(){var t=this;this.showWrongEmailMessage=!1;var e={email:this.userModel.email,fullName:this.userModel.fullName};this.profileService.submitPersonalInfo(e,this.userModel.id).subscribe(function(n){if(t.isEmailChanged&&t.isGravatarIcon(t.avatarUrl)&&t.getAvatar().then(function(e){return t.updateAvatar(e)}),t.isEmailChanged=!1,t.userModel.email=n.email,t.impersonationService.impersonationId){var i=Object.assign(t.impersonationService.impersonationUser,e);t.impersonationService.impersonationUser=i,t.impersonationService.setStorage(i),t.impersonationService.onChange.emit(i)}else t.usersService.setUserInfo(e);t.notificationService.success("Profile settings has been successfully changed.")},function(e){e.error.includes("Duplicate email.")&&(t.showWrongEmailMessage=!0),t.notificationService.danger("Error changing profile settings.")})},t.prototype.submitPreferences=function(){var t=this,e={defaultProjectId:this.userModel.defaultProjectId,defaultTaskId:this.userModel.defaultTaskId,dateFormat:this.userModel.dateFormat,dateFormatId:this.userModel.dateFormatId,isWeeklyTimeEntryUpdatesSend:this.userModel.isWeeklyTimeEntryUpdatesSend,timeFormat:this.userModel.timeFormat,weekStart:this.userModel.weekStart,bearerToken:this.userModel.bearerToken};this.profileService.submitPreferences(e,this.userModel.id).subscribe(function(){if(t.impersonationService.impersonationId){var n=Object.assign(t.impersonationService.impersonationUser,e);t.impersonationService.setStorage(n)}else t.usersService.setUserInfo(e);t.notificationService.success("Profile settings has been successfully changed.")},function(e){t.notificationService.danger("Error changing profile settings.")})},t.prototype.getProjects=function(){var t=this;this.projectsService.getProjects().subscribe(function(e){t.projects=e,t.projects.unshift(new z.a({id:0,name:"No project"})),t.projectModel=t.projects.find(function(e){return e.id===t.userModel.defaultProjectId})||t.projects[0],t.projectModel||t.loadTasks()})},t.prototype.getDateFormats=function(){var t=this;this.profileService.getDateFormats().subscribe(function(e){t.dateFormats=e,t.dateFormatModel=J.a.findByProperty(t.dateFormats,"dateFormatId",t.userModel.dateFormatId)||null})},t.prototype.loadTasks=function(t){var e=this;this.tasksService.getActiveTasks(t).subscribe(function(t){e.tasks=e.filterTasks(t.data),e.tasks.unshift(new Y.a({id:0,name:"No task"})),e.taskModel=J.a.findByProperty(e.tasks,"id",e.userModel.defaultTaskId)||e.tasks[0]})},t.prototype.filterTasks=function(t){var e=[],n=!1;return t.forEach(function(i,l){n=!1,i.projectId?e.push(i):(t.forEach(function(t,e){t.projectId&&i.name.toLowerCase()===t.name.toLowerCase()&&l!==e&&(n=!0)}),n||e.push(i))}),e},t.prototype.setSendEmailTimeData=function(t){this.sendEmailTimeArray=12===t?Ct:yt,this.sendEmailTimeModel=this.sendEmailTimeArray[this.userModel.sendEmailTime]},t.prototype.setSendEmailWeekDaysArray=function(t){var e=this;this.sendEmailDaysArray=[],y.forEach(function(t,n){return e.sendEmailDaysArray.push(new v(t,n+1))}),0===t?this.sendEmailDaysArray.unshift(new v("Sunday",0)):this.sendEmailDaysArray.push(new v("Sunday",0)),this.userModel.sendEmailDays&&this.userModel.sendEmailDays.split(",").forEach(function(t){return e.sendEmailDays[+t]=!0})},t}(),St=n("8tOD"),wt=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function It(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ct-error-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["User with this email already exists"]))],null,null)}function Mt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ct-error-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Email can't be empty"]))],null,null)}function xt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ct-reset-password-message"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.resetPasswordMessage)})}function Pt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,277,"div",[["class","ct-profile ct-profile-settings-page"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](2,0,null,null,274,"div",[["class","ct-page-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](4,0,null,null,4,"div",[["class","ct-page-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](6,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Profile settings"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n\n        "])),(t()(),i["\u0275eld"](10,0,null,null,265,"div",[["class","ct-page-content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](12,0,null,null,7,"div",[["class","ct-user-pic-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,0,null,null,1,"ct-user-pic",[],[[2,"ct-user-pic-avatar",null]],null,null,o.b,o.a)),i["\u0275did"](15,114688,null,0,r.a,[],{fullSize:[0,"fullSize"],urlIcon:[1,"urlIcon"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](17,0,null,null,1,"span",[["class","ct-link-text"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openPhotoDialog()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Change Profile Picture"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275eld"](21,0,null,null,253,"div",[["class","ct-user-settings"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](23,0,null,null,83,"div",[["class","ct-form-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](25,0,null,null,10,"div",[["class","ct-form-header"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleForm(0)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](27,0,null,null,4,"a",[["class","ct-add-button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](29,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),i["\u0275ted"](30,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](33,0,null,null,1,"span",[["class","ct-link-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](34,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](37,0,null,null,68,"form",[["class","ct-form"],["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var l=!0,o=t.component;return"submit"===e&&(l=!1!==i["\u0275nov"](t,39).onSubmit(n)&&l),"reset"===e&&(l=!1!==i["\u0275nov"](t,39).onReset()&&l),"submit"===e&&(l=!1!==o.submitPersonalInfo()&&l),l},null,null)),i["\u0275did"](38,16384,null,0,U["\u0275bf"],[],null,null),i["\u0275did"](39,4210688,[["personalInfoForm",4]],0,U.NgForm,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,U.ControlContainer,null,[U.NgForm]),i["\u0275did"](41,16384,null,0,U.NgControlStatusGroup,[U.ControlContainer],null,null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](43,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](45,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Personal Info"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](49,0,null,null,17,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](51,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Full Name"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](54,0,null,null,11,"div",[["class","ct-required-field-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](56,0,null,null,8,"input",[["class","ct-input ct-full-width"],["name","name"],["pattern",".*[^\\s]+.*"],["required",""]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,57)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,57).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,57)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,57)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(o.userModel.fullName=n)&&l),l},null,null)),i["\u0275did"](57,16384,null,0,U.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,U.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275did"](58,16384,null,0,U.RequiredValidator,[],{required:[0,"required"]},null),i["\u0275did"](59,540672,null,0,U.PatternValidator,[],{pattern:[0,"pattern"]},null),i["\u0275prd"](1024,null,U.NG_VALIDATORS,function(t,e){return[t,e]},[U.RequiredValidator,U.PatternValidator]),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[U.DefaultValueAccessor]),i["\u0275did"](62,671744,null,0,U.NgModel,[[2,U.ControlContainer],[2,U.NG_VALIDATORS],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](64,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](68,0,null,null,23,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](70,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Email Address"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](73,0,null,null,11,"div",[["class","ct-required-field-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](75,0,null,null,8,"input",[["class","ct-input ct-full-width"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,76)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,76).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,76)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,76)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(o.userModel.email=n)&&l),"focus"===e&&(l=0!=(o.showWrongEmailMessage=!1)&&l),"ngModelChange"===e&&(l=0!=(o.isEmailChanged=!0)&&l),l},null,null)),i["\u0275did"](76,16384,null,0,U.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,U.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275did"](77,16384,null,0,U.RequiredValidator,[],{required:[0,"required"]},null),i["\u0275did"](78,540672,null,0,U.PatternValidator,[],{pattern:[0,"pattern"]},null),i["\u0275prd"](1024,null,U.NG_VALIDATORS,function(t,e){return[t,e]},[U.RequiredValidator,U.PatternValidator]),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[U.DefaultValueAccessor]),i["\u0275did"](81,671744,[["contactEmail",4]],0,U.NgModel,[[2,U.ControlContainer],[2,U.NG_VALIDATORS],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](83,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,It)),i["\u0275did"](87,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Mt)),i["\u0275did"](90,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](93,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](95,0,null,null,1,"a",[["class","ct-link-text ct-reset-password-button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.resetPassword()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Reset password"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,xt)),i["\u0275did"](99,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](102,0,null,null,2,"button",[["class","ct-button ct-blue-button"],["mat-raised-button",""]],[[8,"disabled",0]],null,null,O.d,O.b)),i["\u0275did"](103,180224,null,0,H.b,[i.ElementRef,L.a,B.g],{disabled:[0,"disabled"]},null),(t()(),i["\u0275ted"](-1,0,["\n                            Save Personal Info\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](108,0,null,null,127,"div",[["class","ct-form-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](110,0,null,null,10,"div",[["class","ct-form-header"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleForm(1)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](112,0,null,null,4,"a",[["class","ct-add-button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](114,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),i["\u0275ted"](115,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](118,0,null,null,1,"span",[["class","ct-link-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](119,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](122,0,null,null,112,"form",[["class","ct-form"],["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var l=!0,o=t.component;return"submit"===e&&(l=!1!==i["\u0275nov"](t,124).onSubmit(n)&&l),"reset"===e&&(l=!1!==i["\u0275nov"](t,124).onReset()&&l),"submit"===e&&(l=!1!==o.submitPreferences()&&l),l},null,null)),i["\u0275did"](123,16384,null,0,U["\u0275bf"],[],null,null),i["\u0275did"](124,4210688,[["preferencesForm",4]],0,U.NgForm,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,U.ControlContainer,null,[U.NgForm]),i["\u0275did"](126,16384,null,0,U.NgControlStatusGroup,[U.ControlContainer],null,null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](128,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](130,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Preferences"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](134,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](136,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Default Project"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](139,0,null,null,6,"ct-select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],["document","keydown"]],function(t,e,n){var l=!0,o=t.component;return"document:keydown"===e&&(l=!1!==i["\u0275nov"](t,140).onKeyDown(n)&&l),"ngModelChange"===e&&(l=!1!==(o.projectModel=n)&&l),"ngModelChange"===e&&(l=!1!==o.defaultProjectOnChange(o.projectModel)&&l),l},j.b,j.a)),i["\u0275did"](140,49152,null,0,V.a,[i.ElementRef,i.ChangeDetectorRef,i.Renderer],{name:[0,"name"],displayName:[1,"displayName"],trackBy:[2,"trackBy"],options:[3,"options"]},null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[V.a]),i["\u0275did"](142,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](144,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](148,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](150,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Default Task"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](153,0,null,null,6,"ct-select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],["document","keydown"]],function(t,e,n){var l=!0,o=t.component;return"document:keydown"===e&&(l=!1!==i["\u0275nov"](t,154).onKeyDown(n)&&l),"ngModelChange"===e&&(l=!1!==(o.taskModel=n)&&l),"ngModelChange"===e&&(l=!1!==(o.userModel.defaultTaskId=o.taskModel.id)&&l),l},j.b,j.a)),i["\u0275did"](154,49152,null,0,V.a,[i.ElementRef,i.ChangeDetectorRef,i.Renderer],{name:[0,"name"],displayName:[1,"displayName"],trackBy:[2,"trackBy"],options:[3,"options"]},null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[V.a]),i["\u0275did"](156,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](158,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](162,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](164,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date Format"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](167,0,null,null,6,"ct-select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],["document","keydown"]],function(t,e,n){var l=!0,o=t.component;return"document:keydown"===e&&(l=!1!==i["\u0275nov"](t,168).onKeyDown(n)&&l),"ngModelChange"===e&&(l=!1!==(o.dateFormatModel=n)&&l),"ngModelChange"===e&&(l=!1!==o.dateFormatOnChange(o.dateFormatModel)&&l),l},j.b,j.a)),i["\u0275did"](168,49152,null,0,V.a,[i.ElementRef,i.ChangeDetectorRef,i.Renderer],{name:[0,"name"],trackBy:[1,"trackBy"],options:[2,"options"],defaultValue:[3,"defaultValue"]},null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[V.a]),i["\u0275did"](170,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](172,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](176,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](178,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Time Format"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](181,0,null,null,6,"ct-select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],["document","keydown"]],function(t,e,n){var l=!0,o=t.component;return"document:keydown"===e&&(l=!1!==i["\u0275nov"](t,182).onKeyDown(n)&&l),"ngModelChange"===e&&(l=!1!==(o.timeFormatModel=n)&&l),"ngModelChange"===e&&(l=!1!==o.timeFormatOnChange()&&l),l},j.b,j.a)),i["\u0275did"](182,49152,null,0,V.a,[i.ElementRef,i.ChangeDetectorRef,i.Renderer],{name:[0,"name"],trackBy:[1,"trackBy"],options:[2,"options"]},null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[V.a]),i["\u0275did"](184,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](186,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](190,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](192,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Week Starts On"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](195,0,null,null,6,"ct-select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],["document","keydown"]],function(t,e,n){var l=!0,o=t.component;return"document:keydown"===e&&(l=!1!==i["\u0275nov"](t,196).onKeyDown(n)&&l),"ngModelChange"===e&&(l=!1!==(o.weekStartDayModel=n)&&l),"ngModelChange"===e&&(l=!1!==o.weekStartDayOnChange()&&l),l},j.b,j.a)),i["\u0275did"](196,49152,null,0,V.a,[i.ElementRef,i.ChangeDetectorRef,i.Renderer],{name:[0,"name"],options:[1,"options"]},null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[V.a]),i["\u0275did"](198,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](200,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](204,0,null,null,14,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](206,0,null,null,1,"label",[["class","ct-form-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["YouTrack Token"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](209,0,null,null,8,"div",[["class","ct-required-field-container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](211,0,null,null,5,"input",[["class","ct-input ct-full-width"],["name","token"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var l=!0,o=t.component;return"input"===e&&(l=!1!==i["\u0275nov"](t,212)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==i["\u0275nov"](t,212).onTouched()&&l),"compositionstart"===e&&(l=!1!==i["\u0275nov"](t,212)._compositionStart()&&l),"compositionend"===e&&(l=!1!==i["\u0275nov"](t,212)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(o.userModel.bearerToken=n)&&l),l},null,null)),i["\u0275did"](212,16384,null,0,U.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,U.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[U.DefaultValueAccessor]),i["\u0275did"](214,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](216,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](220,0,null,null,9,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](222,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["name","isWeeklyTimeEntryUpdatesSend"]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0;return"ngModelChange"===e&&(i=!1!==(t.component.userModel.isWeeklyTimeEntryUpdatesSend=n)&&i),i},W.b,W.a)),i["\u0275did"](223,4374528,null,0,G.b,[i.ElementRef,i.ChangeDetectorRef,B.g,[8,null],[2,G.a]],{name:[0,"name"]},null),i["\u0275prd"](1024,null,U.NG_VALUE_ACCESSOR,function(t){return[t]},[G.b]),i["\u0275did"](225,671744,null,0,U.NgModel,[[2,U.ControlContainer],[8,null],[8,null],[2,U.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,U.NgControl,null,[U.NgModel]),i["\u0275did"](227,16384,null,0,U.NgControlStatus,[U.NgControl],null,null),(t()(),i["\u0275ted"](-1,0,["\n                                Send weekly time entry updates\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](231,0,null,null,2,"button",[["class","ct-button ct-blue-button"],["mat-raised-button",""]],[[8,"disabled",0]],null,null,O.d,O.b)),i["\u0275did"](232,180224,null,0,H.b,[i.ElementRef,L.a,B.g],{disabled:[0,"disabled"]},null),(t()(),i["\u0275ted"](-1,0,["\n                            Save Preferences\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                                       "])),(t()(),i["\u0275ted"](-1,null,["\n                                       "])),(t()(),i["\u0275ted"](-1,null,["\n                                       "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                                         "])),(t()(),i["\u0275ted"](-1,null,["\n                                         "])),(t()(),i["\u0275ted"](-1,null,["\n                                         "])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,15,0,!0,n.avatarUrl),t(e,58,0,""),t(e,59,0,".*[^\\s]+.*"),t(e,62,0,"name",n.userModel.fullName),t(e,77,0,""),t(e,78,0,n.emailPattern),t(e,81,0,"email",n.userModel.email),t(e,87,0,n.isEmailChanged&&n.showWrongEmailMessage),t(e,90,0,!i["\u0275nov"](e,81).pristine&&!n.userModel.email),t(e,99,0,n.resetPasswordMessage),t(e,103,0,!i["\u0275nov"](e,39).valid),t(e,140,0,"defaultProject","name","id",n.projects),t(e,142,0,"defaultProject",n.projectModel),t(e,154,0,"defaultTask","name","id",n.tasks),t(e,156,0,"defaultTask",n.taskModel),t(e,168,0,"dateFormat","dateFormat",n.dateFormats,"None"),t(e,170,0,"dateFormat",n.dateFormatModel),t(e,182,0,"timeFormat","timeFormat",n.timeFormats),t(e,184,0,"timeFormat",n.timeFormatModel),t(e,196,0,"weekStartDay",n.weekStartDays),t(e,198,0,"weekStartDay",n.weekStartDayModel),t(e,214,0,"token",n.userModel.bearerToken),t(e,223,0,"isWeeklyTimeEntryUpdatesSend"),t(e,225,0,"isWeeklyTimeEntryUpdatesSend",n.userModel.isWeeklyTimeEntryUpdatesSend),t(e,232,0,!i["\u0275nov"](e,124).valid)},function(t,e){var n=e.component;t(e,14,0,i["\u0275nov"](e,15).addClass),t(e,30,0,n.isFormShownArray[0]?"keyboard_arrow_up":"keyboard_arrow_down"),t(e,34,0,n.isFormShownArray[0]?"Hide Personal Info":"Show Personal Info"),t(e,37,0,!n.isFormShownArray[0],i["\u0275nov"](e,41).ngClassUntouched,i["\u0275nov"](e,41).ngClassTouched,i["\u0275nov"](e,41).ngClassPristine,i["\u0275nov"](e,41).ngClassDirty,i["\u0275nov"](e,41).ngClassValid,i["\u0275nov"](e,41).ngClassInvalid,i["\u0275nov"](e,41).ngClassPending),t(e,56,0,i["\u0275nov"](e,58).required?"":null,i["\u0275nov"](e,59).pattern?i["\u0275nov"](e,59).pattern:null,i["\u0275nov"](e,64).ngClassUntouched,i["\u0275nov"](e,64).ngClassTouched,i["\u0275nov"](e,64).ngClassPristine,i["\u0275nov"](e,64).ngClassDirty,i["\u0275nov"](e,64).ngClassValid,i["\u0275nov"](e,64).ngClassInvalid,i["\u0275nov"](e,64).ngClassPending),t(e,75,0,i["\u0275nov"](e,77).required?"":null,i["\u0275nov"](e,78).pattern?i["\u0275nov"](e,78).pattern:null,i["\u0275nov"](e,83).ngClassUntouched,i["\u0275nov"](e,83).ngClassTouched,i["\u0275nov"](e,83).ngClassPristine,i["\u0275nov"](e,83).ngClassDirty,i["\u0275nov"](e,83).ngClassValid,i["\u0275nov"](e,83).ngClassInvalid,i["\u0275nov"](e,83).ngClassPending),t(e,102,0,i["\u0275nov"](e,103).disabled||null),t(e,115,0,n.isFormShownArray[1]?"keyboard_arrow_up":"keyboard_arrow_down"),t(e,119,0,n.isFormShownArray[1]?"Hide Preferences":"Show Preferences"),t(e,122,0,!n.isFormShownArray[1],i["\u0275nov"](e,126).ngClassUntouched,i["\u0275nov"](e,126).ngClassTouched,i["\u0275nov"](e,126).ngClassPristine,i["\u0275nov"](e,126).ngClassDirty,i["\u0275nov"](e,126).ngClassValid,i["\u0275nov"](e,126).ngClassInvalid,i["\u0275nov"](e,126).ngClassPending),t(e,139,0,i["\u0275nov"](e,144).ngClassUntouched,i["\u0275nov"](e,144).ngClassTouched,i["\u0275nov"](e,144).ngClassPristine,i["\u0275nov"](e,144).ngClassDirty,i["\u0275nov"](e,144).ngClassValid,i["\u0275nov"](e,144).ngClassInvalid,i["\u0275nov"](e,144).ngClassPending),t(e,153,0,i["\u0275nov"](e,158).ngClassUntouched,i["\u0275nov"](e,158).ngClassTouched,i["\u0275nov"](e,158).ngClassPristine,i["\u0275nov"](e,158).ngClassDirty,i["\u0275nov"](e,158).ngClassValid,i["\u0275nov"](e,158).ngClassInvalid,i["\u0275nov"](e,158).ngClassPending),t(e,167,0,i["\u0275nov"](e,172).ngClassUntouched,i["\u0275nov"](e,172).ngClassTouched,i["\u0275nov"](e,172).ngClassPristine,i["\u0275nov"](e,172).ngClassDirty,i["\u0275nov"](e,172).ngClassValid,i["\u0275nov"](e,172).ngClassInvalid,i["\u0275nov"](e,172).ngClassPending),t(e,181,0,i["\u0275nov"](e,186).ngClassUntouched,i["\u0275nov"](e,186).ngClassTouched,i["\u0275nov"](e,186).ngClassPristine,i["\u0275nov"](e,186).ngClassDirty,i["\u0275nov"](e,186).ngClassValid,i["\u0275nov"](e,186).ngClassInvalid,i["\u0275nov"](e,186).ngClassPending),t(e,195,0,i["\u0275nov"](e,200).ngClassUntouched,i["\u0275nov"](e,200).ngClassTouched,i["\u0275nov"](e,200).ngClassPristine,i["\u0275nov"](e,200).ngClassDirty,i["\u0275nov"](e,200).ngClassValid,i["\u0275nov"](e,200).ngClassInvalid,i["\u0275nov"](e,200).ngClassPending),t(e,211,0,i["\u0275nov"](e,216).ngClassUntouched,i["\u0275nov"](e,216).ngClassTouched,i["\u0275nov"](e,216).ngClassPristine,i["\u0275nov"](e,216).ngClassDirty,i["\u0275nov"](e,216).ngClassValid,i["\u0275nov"](e,216).ngClassInvalid,i["\u0275nov"](e,216).ngClassPending),t(e,222,1,[i["\u0275nov"](e,223).id,i["\u0275nov"](e,223).indeterminate,i["\u0275nov"](e,223).checked,i["\u0275nov"](e,223).disabled,"before"==i["\u0275nov"](e,223).labelPosition,i["\u0275nov"](e,227).ngClassUntouched,i["\u0275nov"](e,227).ngClassTouched,i["\u0275nov"](e,227).ngClassPristine,i["\u0275nov"](e,227).ngClassDirty,i["\u0275nov"](e,227).ngClassValid,i["\u0275nov"](e,227).ngClassInvalid,i["\u0275nov"](e,227).ngClassPending]),t(e,231,0,i["\u0275nov"](e,232).disabled||null)})}var Ft=i["\u0275ccf"]("ct-profile-settings",bt,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ct-profile-settings",[],null,null,null,Pt,wt)),i["\u0275did"](1,114688,null,0,bt,[St.d,$.a,d.a,K.a,X.a,C,u.ActivatedRoute,q.a,b.a,vt.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Dt=n("DHxI"),Tt=n("zI1e"),Et=n("efkn"),Rt=n("ACE2"),At=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function kt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"input",[["accept","image/*"],["type","file"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.fileChangeListener(n)&&i),i},null,null))],null,null)}function Nt(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{cropcanvas:0}),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,7,"span",[["class","ng2-imgcrop"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,kt)),i["\u0275did"](5,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](7,0,[[1,0],["cropcanvas",1]],null,1,"canvas",[],null,[[null,"mousedown"],[null,"mouseup"],[null,"mousemove"],[null,"mouseleave"],[null,"touchmove"],[null,"touchend"],[null,"touchstart"]],function(t,e,n){var i=!0,l=t.component;return"mousedown"===e&&(i=!1!==l.onMouseDown(n)&&i),"mouseup"===e&&(i=!1!==l.onMouseUp(n)&&i),"mousemove"===e&&(i=!1!==l.onMouseMove(n)&&i),"mouseleave"===e&&(i=!1!==l.onMouseUp(n)&&i),"touchmove"===e&&(i=!1!==l.onTouchMove(n)&&i),"touchend"===e&&(i=!1!==l.onTouchEnd(n)&&i),"touchstart"===e&&(i=!1!==l.onTouchStart(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],function(t,e){t(e,5,0,!e.component.settings.noFileInput)},null)}var _t=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ut(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Select new file to update your profile picture"]))],null,null)}function Ot(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Make thumbnail (optional)"]))],null,null)}function Ht(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","ct-profile-photo-right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Current thumbnail"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](5,0,null,null,3,"span",[["class","ct-cropped-profile-photo"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"img",[],[[8,"src",4],[8,"width",0],[8,"height",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](10,0,null,null,2,"button",[["class","ct-button ct-primary-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==l.changeProfileImg(l.imageData.image)&&i),i},O.d,O.b)),i["\u0275did"](11,180224,null,0,H.b,[i.ElementRef,L.a,B.g],null,null),(t()(),i["\u0275ted"](-1,0,["Change profile picture"])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],null,function(t,e){var n=e.component;t(e,7,0,n.imageData.image,n.cropperSettings.croppedWidth,n.cropperSettings.croppedHeight),t(e,10,0,i["\u0275nov"](e,11).disabled||null)})}function Lt(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{cropper:0}),(t()(),i["\u0275eld"](1,0,null,null,25,"div",[["class","ct-profile-photo-dialog"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](3,0,null,null,2,"button",[["class","ct-dialog-close"],["ctClickClose",""],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0]],[["document","keydown"],[null,"click"]],function(t,e,n){var l=!0;return"document:keydown"===e&&(l=!1!==i["\u0275nov"](t,4).onKeyDown(n)&&l),"click"===e&&(l=!1!==i["\u0275nov"](t,5).dialogRef.close(i["\u0275nov"](t,5).dialogResult)&&l),l},null,null)),i["\u0275did"](4,16384,null,0,Rt.a,[i.ElementRef],null,null),i["\u0275did"](5,606208,null,0,St.f,[[2,St.i],i.ElementRef,St.d],{dialogResult:[0,"dialogResult"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275eld"](7,0,null,null,15,"div",[["class","ct-profile-photo-left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ut)),i["\u0275did"](10,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ot)),i["\u0275did"](13,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](15,0,null,null,1,"img-cropper",[],[[2,"ct-image-empty",null]],[[null,"onCrop"]],function(t,e,n){var i=!0;return"onCrop"===e&&(i=!1!==t.component.cropped(n)&&i),i},Nt,At)),i["\u0275did"](16,4898816,[[1,4]],0,mt,[i.Renderer],{settings:[0,"settings"],image:[1,"image"]},{onCrop:"onCrop"}),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](18,0,null,null,3,"label",[["class","ct-button ct-primary-button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            Browse\n            "])),(t()(),i["\u0275eld"](20,0,[["cropper",1]],null,0,"input",[["title","Browse file"],["type","file"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.fileChangeListener(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ht)),i["\u0275did"](25,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,5,0,""),t(e,10,0,!n.imageData.image),t(e,13,0,n.imageData.image),t(e,16,0,n.cropperSettings,n.imageData),t(e,25,0,n.imageData.image)},function(t,e){var n=e.component;t(e,3,0,i["\u0275nov"](e,5).ariaLabel),t(e,15,0,!n.imageData.image)})}var Bt=i["\u0275ccf"]("ct-profile-photo-dialog",ft,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ct-profile-photo-dialog",[],null,null,null,Lt,_t)),i["\u0275did"](1,49152,null,0,ft,[K.a,St.d,b.a],null,null)],null,null)},{},{onSubmit:"onSubmit"},[]),jt=n("AcA2"),Vt=n("kvIy"),Wt=n("jcrS"),Gt=n("oHl+"),zt=n("9Sd6"),Yt=n("6sdf"),Xt=n("1T37"),qt=n("+j5Y"),$t=n("z7Rf"),Jt=n("OE0E"),Kt=n("Uo70"),Zt=n("a9YB"),Qt=n("NwsS"),te=n("Mcof"),ee=n("p5vt"),ne=n("R/wu"),ie=n("kxjS"),le={title:"Profile"},oe=function(){},re=n("yMbY"),se=n("WtLm"),ae=n("FqS2"),ue=n("3eEW"),de=n("ovmJ"),ce=n("Wt1a"),pe=n("or5m"),he=n("ETbk"),me=n("bB2G"),ge=n("K8Tv"),fe=n("LiT8"),ve=n("YrsX"),ye=n("e3dM"),Ce=n("bkcK"),be=n("TBIh"),Se=n("704W"),we=n("ZuzD"),Ie=n("sqmn"),Me=n("Bp8q"),xe=n("y/Fr"),Pe=n("RTvT"),Fe=n("VWgf"),De=n("igLL"),Te=n("fAE3");n.d(e,"ProfileModuleNgFactory",function(){return Ee});var Ee=i["\u0275cmf"](l,[],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[_,Ft,Dt.a,Tt.a,Et.a,Et.b,Bt]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[i.LOCALE_ID,[2,s["\u0275a"]]]),i["\u0275mpd"](4608,jt.a,jt.a,[Vt.a,vt.a]),i["\u0275mpd"](4608,U["\u0275i"],U["\u0275i"],[]),i["\u0275mpd"](4608,Wt.DomHelper,Wt.DomHelper,[]),i["\u0275mpd"](4608,Gt.UtilsService,Gt.UtilsService,[]),i["\u0275mpd"](6144,zt.b,null,[s.DOCUMENT]),i["\u0275mpd"](4608,zt.c,zt.c,[[2,zt.b]]),i["\u0275mpd"](4608,L.a,L.a,[]),i["\u0275mpd"](4608,B.i,B.i,[L.a]),i["\u0275mpd"](4608,B.h,B.h,[B.i,i.NgZone,s.DOCUMENT]),i["\u0275mpd"](136192,B.d,B.b,[[3,B.d],s.DOCUMENT]),i["\u0275mpd"](5120,B.l,B.k,[[3,B.l],[2,B.j],s.DOCUMENT]),i["\u0275mpd"](5120,B.g,B.e,[[3,B.g],i.NgZone,L.a]),i["\u0275mpd"](4608,Yt.b,Yt.b,[]),i["\u0275mpd"](5120,Xt.c,Xt.a,[[3,Xt.c],i.NgZone,L.a]),i["\u0275mpd"](5120,Xt.f,Xt.e,[[3,Xt.f],L.a,i.NgZone]),i["\u0275mpd"](4608,qt.g,qt.g,[Xt.c,Xt.f,i.NgZone,s.DOCUMENT]),i["\u0275mpd"](5120,qt.c,qt.h,[[3,qt.c],s.DOCUMENT]),i["\u0275mpd"](4608,qt.f,qt.f,[Xt.f,s.DOCUMENT]),i["\u0275mpd"](5120,qt.d,qt.k,[[3,qt.d],s.DOCUMENT]),i["\u0275mpd"](4608,qt.a,qt.a,[qt.g,qt.c,i.ComponentFactoryResolver,qt.f,qt.d,i.ApplicationRef,i.Injector,i.NgZone,s.DOCUMENT]),i["\u0275mpd"](5120,qt.i,qt.j,[qt.a]),i["\u0275mpd"](5120,St.b,St.c,[qt.a]),i["\u0275mpd"](4608,St.d,St.d,[qt.a,i.Injector,[2,s.Location],[2,St.a],St.b,[3,St.d],qt.c]),i["\u0275mpd"](5120,$t.d,$t.a,[[3,$t.d],[2,p.c],Jt.DomSanitizer,[2,s.DOCUMENT]]),i["\u0275mpd"](4608,Kt.d,Kt.d,[]),i["\u0275mpd"](5120,Zt.c,Zt.d,[[3,Zt.c]]),i["\u0275mpd"](5120,Qt.a,Qt.b,[qt.a]),i["\u0275mpd"](4608,te.d,te.d,[L.a]),i["\u0275mpd"](135680,te.a,te.a,[te.d,i.NgZone]),i["\u0275mpd"](4608,ee.b,ee.b,[qt.a,B.l,i.Injector,te.a,[3,ee.b]]),i["\u0275mpd"](4608,U.FormBuilder,U.FormBuilder,[]),i["\u0275mpd"](4608,C,C,[h.a,p.c]),i["\u0275mpd"](4608,$.a,$.a,[ne.a,p.c]),i["\u0275mpd"](512,s.CommonModule,s.CommonModule,[]),i["\u0275mpd"](512,u.RouterModule,u.RouterModule,[[2,u["\u0275a"]],[2,u.Router]]),i["\u0275mpd"](512,oe,oe,[]),i["\u0275mpd"](512,re.FileUploadModule,re.FileUploadModule,[]),i["\u0275mpd"](512,gt,gt,[]),i["\u0275mpd"](512,se.SharedModule,se.SharedModule,[]),i["\u0275mpd"](512,ae.DropdownModule,ae.DropdownModule,[]),i["\u0275mpd"](512,U["\u0275ba"],U["\u0275ba"],[]),i["\u0275mpd"](512,U.FormsModule,U.FormsModule,[]),i["\u0275mpd"](512,ue.PaginatorModule,ue.PaginatorModule,[]),i["\u0275mpd"](512,de.ButtonModule,de.ButtonModule,[]),i["\u0275mpd"](512,ce.DialogModule,ce.DialogModule,[]),i["\u0275mpd"](512,pe.CalendarModule,pe.CalendarModule,[]),i["\u0275mpd"](512,he.a,he.a,[]),i["\u0275mpd"](512,me.DpDatePickerModule,me.DpDatePickerModule,[]),i["\u0275mpd"](512,ge.a,ge.a,[]),i["\u0275mpd"](512,fe.a,fe.a,[]),i["\u0275mpd"](512,ve.f,ve.f,[]),i["\u0275mpd"](512,ye.a,ye.a,[]),i["\u0275mpd"](512,zt.a,zt.a,[]),i["\u0275mpd"](256,Kt.e,!0,[]),i["\u0275mpd"](512,Kt.l,Kt.l,[[2,Kt.e]]),i["\u0275mpd"](512,L.b,L.b,[]),i["\u0275mpd"](512,Kt.v,Kt.v,[]),i["\u0275mpd"](512,B.a,B.a,[]),i["\u0275mpd"](512,H.c,H.c,[]),i["\u0275mpd"](512,Yt.c,Yt.c,[]),i["\u0275mpd"](512,G.c,G.c,[]),i["\u0275mpd"](512,Ce.g,Ce.g,[]),i["\u0275mpd"](512,Xt.b,Xt.b,[]),i["\u0275mpd"](512,qt.e,qt.e,[]),i["\u0275mpd"](512,St.h,St.h,[]),i["\u0275mpd"](512,$t.c,$t.c,[]),i["\u0275mpd"](512,be.c,be.c,[]),i["\u0275mpd"](512,Se.b,Se.b,[]),i["\u0275mpd"](512,Kt.m,Kt.m,[]),i["\u0275mpd"](512,Kt.t,Kt.t,[]),i["\u0275mpd"](512,we.a,we.a,[]),i["\u0275mpd"](512,Ie.c,Ie.c,[]),i["\u0275mpd"](512,Me.b,Me.b,[]),i["\u0275mpd"](512,xe.c,xe.c,[]),i["\u0275mpd"](512,Kt.r,Kt.r,[]),i["\u0275mpd"](512,Qt.c,Qt.c,[]),i["\u0275mpd"](512,te.c,te.c,[]),i["\u0275mpd"](512,ee.e,ee.e,[]),i["\u0275mpd"](512,Pe.a,Pe.a,[]),i["\u0275mpd"](512,U.ReactiveFormsModule,U.ReactiveFormsModule,[]),i["\u0275mpd"](512,Fe.TextMaskModule,Fe.TextMaskModule,[]),i["\u0275mpd"](512,De.a,De.a,[]),i["\u0275mpd"](512,a.g,a.g,[]),i["\u0275mpd"](512,Te.a,Te.a,[]),i["\u0275mpd"](512,l,l,[]),i["\u0275mpd"](1024,u.ROUTES,function(){return[[{path:"",component:S,canActivate:[ie.a],data:le,resolve:{user:jt.a}},{path:"settings",component:bt,canActivate:[ie.a],resolve:{user:jt.a}}]]},[])])})},vhJo:function(t,e,n){"use strict";var i=n("YhDJ"),l=n("G7Ky"),o=n("kT03");e.FileUploader=function(){function t(t){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1},this.setOptions(t)}return t.prototype.setOptions=function(t){this.options=Object.assign(this.options,t),this.authToken=t.authToken,this.authTokenHeader=t.authTokenHeader||"Authorization",this.autoUpload=t.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var e=0;e<this.queue.length;e++)this.queue[e].url=this.options.url},t.prototype.addToQueue=function(t,e,n){for(var o=this,r=[],s=0,a=t;s<a.length;s++)r.push(a[s]);var u=this._getFilters(n),d=this.queue.length,c=[];r.map(function(t){e||(e=o.options);var n=new i.FileLikeObject(t);if(o._isValidFile(n,u,e)){var r=new l.FileItem(o,t,e);c.push(r),o.queue.push(r),o._onAfterAddingFile(r)}else o._onWhenAddingFileFailed(n,u[o._failFilterIndex],e)}),this.queue.length!==d&&(this._onAfterAddingAll(c),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},t.prototype.removeFromQueue=function(t){var e=this.getIndexOfItem(t),n=this.queue[e];n.isUploading&&n.cancel(),this.queue.splice(e,1),this.progress=this._getTotalProgress()},t.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},t.prototype.uploadItem=function(t){var e=this.getIndexOfItem(t),n=this.queue[e],i=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](n))},t.prototype.cancelItem=function(t){var e=this.getIndexOfItem(t),n=this.queue[e];n&&n.isUploading&&(this.options.isHTML5?n._xhr:n._form).abort()},t.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(t){return!t.isUploading});t.length&&(t.map(function(t){return t._prepareToUploading()}),t[0].upload())},t.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(t){return t.cancel()})},t.prototype.isFile=function(t){return function(t){return File&&t instanceof File}(t)},t.prototype.isFileLikeObject=function(t){return t instanceof i.FileLikeObject},t.prototype.getIndexOfItem=function(t){return"number"==typeof t?t:this.queue.indexOf(t)},t.prototype.getNotUploadedItems=function(){return this.queue.filter(function(t){return!t.isUploaded})},t.prototype.getReadyItems=function(){return this.queue.filter(function(t){return t.isReady&&!t.isUploading}).sort(function(t,e){return t.index-e.index})},t.prototype.destroy=function(){},t.prototype.onAfterAddingAll=function(t){return{fileItems:t}},t.prototype.onBuildItemForm=function(t,e){return{fileItem:t,form:e}},t.prototype.onAfterAddingFile=function(t){return{fileItem:t}},t.prototype.onWhenAddingFileFailed=function(t,e,n){return{item:t,filter:e,options:n}},t.prototype.onBeforeUploadItem=function(t){return{fileItem:t}},t.prototype.onProgressItem=function(t,e){return{fileItem:t,progress:e}},t.prototype.onProgressAll=function(t){return{progress:t}},t.prototype.onSuccessItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onErrorItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onCancelItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onCompleteItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onCompleteAll=function(){},t.prototype._mimeTypeFilter=function(t){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(t.type))},t.prototype._fileSizeFilter=function(t){return!(this.options.maxFileSize&&t.size>this.options.maxFileSize)},t.prototype._fileTypeFilter=function(t){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(o.FileType.getMimeClass(t)))},t.prototype._onErrorItem=function(t,e,n,i){t._onError(e,n,i),this.onErrorItem(t,e,n,i)},t.prototype._onCompleteItem=function(t,e,n,i){t._onComplete(e,n,i),this.onCompleteItem(t,e,n,i);var l=this.getReadyItems()[0];this.isUploading=!1,l?l.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},t.prototype._headersGetter=function(t){return function(e){return e?t[e.toLowerCase()]||void 0:t}},t.prototype._xhrTransport=function(t){var e,n=this,i=t._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(t),"number"!=typeof t._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart?e=t._file:(e=new FormData,this._onBuildItemForm(t,e),e.append(t.alias,t._file,t.file.name),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(t){e.append(t,n.options.additionalParameter[t])})),i.upload.onprogress=function(e){var i=Math.round(e.lengthComputable?100*e.loaded/e.total:0);n._onProgressItem(t,i)},i.onload=function(){var e=n._parseHeaders(i.getAllResponseHeaders()),l=n._transformResponse(i.response,e),o=n._isSuccessCode(i.status)?"Success":"Error";n["_on"+o+"Item"](t,l,i.status,e),n._onCompleteItem(t,l,i.status,e)},i.onerror=function(){var e=n._parseHeaders(i.getAllResponseHeaders()),l=n._transformResponse(i.response,e);n._onErrorItem(t,l,i.status,e),n._onCompleteItem(t,l,i.status,e)},i.onabort=function(){var e=n._parseHeaders(i.getAllResponseHeaders()),l=n._transformResponse(i.response,e);n._onCancelItem(t,l,i.status,e),n._onCompleteItem(t,l,i.status,e)},i.open(t.method,t.url,!0),i.withCredentials=t.withCredentials,this.options.headers)for(var l=0,o=this.options.headers;l<o.length;l++)i.setRequestHeader((a=o[l]).name,a.value);if(t.headers.length)for(var r=0,s=t.headers;r<s.length;r++){var a;i.setRequestHeader((a=s[r]).name,a.value)}this.authToken&&i.setRequestHeader(this.authTokenHeader,this.authToken),i.send(e),this._render()},t.prototype._getTotalProgress=function(t){if(void 0===t&&(t=0),this.options.removeAfterUpload)return t;var e=this.getNotUploadedItems().length,n=100/this.queue.length;return Math.round((e?this.queue.length-e:this.queue.length)*n+t*n/100)},t.prototype._getFilters=function(t){if(!t)return this.options.filters;if(Array.isArray(t))return t;if("string"==typeof t){var e=t.match(/[^\s,]+/g);return this.options.filters.filter(function(t){return-1!==e.indexOf(t.name)})}return this.options.filters},t.prototype._render=function(){},t.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},t.prototype._isValidFile=function(t,e,n){var i=this;return this._failFilterIndex=-1,!e.length||e.every(function(e){return i._failFilterIndex++,e.fn.call(i,t,n)})},t.prototype._isSuccessCode=function(t){return t>=200&&t<300||304===t},t.prototype._transformResponse=function(t,e){return t},t.prototype._parseHeaders=function(t){var e,n,i,l={};return t?(t.split("\n").map(function(t){i=t.indexOf(":"),e=t.slice(0,i).trim().toLowerCase(),n=t.slice(i+1).trim(),e&&(l[e]=l[e]?l[e]+", "+n:n)}),l):l},t.prototype._onWhenAddingFileFailed=function(t,e,n){this.onWhenAddingFileFailed(t,e,n)},t.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},t.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},t.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},t.prototype._onBuildItemForm=function(t,e){t._onBuildForm(e),this.onBuildItemForm(t,e)},t.prototype._onProgressItem=function(t,e){var n=this._getTotalProgress(e);this.progress=n,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(n),this._render()},t.prototype._onSuccessItem=function(t,e,n,i){t._onSuccess(e,n,i),this.onSuccessItem(t,e,n,i)},t.prototype._onCancelItem=function(t,e,n,i){t._onCancel(e,n,i),this.onCancelItem(t,e,n,i)},t}()},yMbY:function(t,e,n){"use strict";var i=n("TToO").__decorate,l=n("Xjw4"),o=n("WT6e"),r=n("6+IT"),s=n("6R16"),a=function(){};a=i([o.NgModule({imports:[l.CommonModule],declarations:[r.FileDropDirective,s.FileSelectDirective],exports:[r.FileDropDirective,s.FileSelectDirective]})],a),e.FileUploadModule=a}});